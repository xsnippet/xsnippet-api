var CodeMirror=(function(){function n(Y,ba){var bk={},a4=n.defaults;for(var by in a4){if(a4.hasOwnProperty(by)){bk[by]=(ba&&ba.hasOwnProperty(by)?ba:a4)[by]}}var bP=bk.document;var bw=bP.createElement("div");bw.className="CodeMirror";bw.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+bk.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative" draggable="true"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(Y.appendChild){Y.appendChild(bw)}else{Y(bw)}var b5=bw.firstChild,b2=b5.firstChild,aK=bw.lastChild,aL=aK.firstChild,aD=aL.firstChild,bs=aD.nextSibling,aW=bs.firstChild,b0=aW.firstChild,aO=aW.nextSibling.firstChild,aj=aO.firstChild,an=aj.nextSibling;if(bk.tabindex!=null){b2.tabindex=bk.tabindex}if(!bk.gutter&&!bk.lineNumbers){aW.style.display="none"}var aN=new q(),ax=new q(),am;var bm,bW=[new c("")],be,bb=new g(),i;bu();var aY={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var bd,bG,bE,al;var bq,bU,aQ,at,bS,bA;var bn=0,bD=0,bL=0,aV=null;var aa,bK;var aP="",Z;bX(function(){ap(bk.value||"");bq=false})();l(aK,"mousedown",bX(ay));l(aO,"dragstart",ae);if(!A){l(aK,"contextmenu",av)}l(aK,"scroll",function(){ak([]);if(bk.fixedGutter){aW.style.left=aK.scrollLeft+"px"}if(bk.onScroll){bk.onScroll(bT)}});l(window,"resize",function(){ak(true)});l(b2,"keyup",bX(br));l(b2,"keydown",bX(aB));l(b2,"keypress",bX(bh));l(b2,"focus",aJ);l(b2,"blur",aH);l(aK,"dragenter",o);l(aK,"dragover",o);l(aK,"drop",bX(ar));l(aK,"paste",function(){aw();bR()});l(b2,"paste",function(){bR()});l(b2,"cut",function(){bR()});var ag;try{ag=(bP.activeElement==b2)}catch(a2){}if(ag){setTimeout(aJ,20)}else{aH()}function S(b7){return b7>=0&&b7<bW.length}var bT=bw.CodeMirror={getValue:bl,setValue:bX(ap),getSelection:bN,replaceSelection:bX(aq),focus:function(){aw();aJ();bR()},setOption:function(b7,b8){bk[b7]=b8;if(b7=="lineNumbers"||b7=="gutter"||b7=="firstLineNumber"){bX(U)()}else{if(b7=="mode"||b7=="indentUnit"){bu()}else{if(b7=="readOnly"&&b8=="nocursor"){b2.blur()}else{if(b7=="theme"){aK.className=aK.className.replace(/cm-s-\w+/,"cm-s-"+b8)}}}}},getOption:function(b7){return bk[b7]},undo:bX(bI),redo:bX(b6),indentLine:bX(function(b8,b7){if(S(b8)){aA(b8,b7==null?"smart":b7?"add":"subtract")}}),historySize:function(){return{undo:bb.done.length,redo:bb.undone.length}},matchBrackets:bX(function(){az(true)}),getTokenAt:function(b7){b7=ao(b7);return bW[b7.line].getTokenAt(bm,aM(b7.line),b7.ch)},getStateAfter:function(b7){b7=a6(b7==null?bW.length-1:b7);return aM(b7+1)},cursorCoords:function(b7){if(b7==null){b7=aY.inverted}return bB(b7?aY.from:aY.to)},charCoords:function(b7){return bB(ao(b7))},coordsChar:function(b8){var b9=R(aO);var b7=a6(Math.min(bW.length-1,bn+Math.floor((b8.y-b9.top)/bV())));return ao({line:b7,ch:bj(a6(b7),b8.x-b9.left)})},getSearchCursor:function(b8,b9,b7){return new aE(b8,b9,b7)},markText:bX(function(b8,b7,b9){return bX(X(b8,b7,b9))}),setMarker:bX(au),clearMarker:bX(ai),setLineClass:bX(aU),lineInfo:af,addWidget:function(cb,b9,cd,ca,cf){cb=bC(ao(cb));var cc=cb.yBot,b8=cb.x;b9.style.position="absolute";aL.appendChild(b9);if(ca=="over"){cc=cb.y}else{if(ca=="near"){var b7=Math.max(aK.offsetHeight,bW.length*bV()),ce=Math.max(aL.clientWidth,aO.clientWidth)-bt();if(cb.yBot+b9.offsetHeight>b7&&cb.y>b9.offsetHeight){cc=cb.y-b9.offsetHeight}if(b8+b9.offsetWidth>ce){b8=ce-b9.offsetWidth}}}b9.style.top=(cc+bf())+"px";b9.style.left=b9.style.right="";if(cf=="right"){b8=aL.clientWidth-b9.offsetWidth;b9.style.right="0px"}else{if(cf=="left"){b8=0}else{if(cf=="middle"){b8=(aL.clientWidth-b9.offsetWidth)/2}}b9.style.left=(b8+bt())+"px"}if(cd){b4(b8,cc,b8+b9.offsetWidth,cc+b9.offsetHeight)}},lineCount:function(){return bW.length},getCursor:function(b7){if(b7==null){b7=aY.inverted}return I(b7?aY.from:aY.to)},somethingSelected:function(){return !L(aY.from,aY.to)},setCursor:bX(function(b7,b8){if(b8==null&&typeof b7.line=="number"){a1(b7.line,b7.ch)}else{a1(b7,b8)}}),setSelection:bX(function(b8,b7){bF(ao(b8),ao(b7||b8))}),getLine:function(b7){if(S(b7)){return bW[b7].text}},setLine:bX(function(b7,b8){if(S(b7)){bv(b8,{line:b7,ch:0},{line:b7,ch:bW[b7].text.length})}}),removeLine:bX(function(b7){if(S(b7)){bv("",{line:b7,ch:0},ao({line:b7+1,ch:0}))}}),replaceRange:bX(bv),getRange:function(b8,b7){return bg(ao(b8),ao(b7))},operation:function(b7){return bX(b7)()},refresh:function(){ak(true)},getInputField:function(){return b2},getWrapperElement:function(){return bw},getScrollerElement:function(){return aK},getGutterElement:function(){return aW}};function ap(b7){bb=null;var b8={line:0,ch:0};bp(b8,{line:bW.length-1,ch:bW[bW.length-1].text.length},r(b7),b8,b8);bb=new g();bq=true}function bl(b9){var ca=[];for(var b8=0,b7=bW.length;b8<b7;++b8){ca.push(bW[b8].text)}return ca.join("\n")}function ay(cd){for(var ca=f(cd);ca!=bw;ca=ca.parentNode){if(ca.parentNode==aL&&ca!=bs){return}}for(var ca=f(cd);ca!=bw;ca=ca.parentNode){if(ca.parentNode==b0){if(bk.onGutterClick){bk.onGutterClick(bT,k(b0.childNodes,ca)+bn,cd)}return E(cd)}}var b7=ah(cd);switch(p(cd)){case 3:if(A&&!y){av(cd)}return;case 2:if(b7){a1(b7.line,b7.ch,true)}return}if(!b7){if(f(cd)==aK){E(cd)}return}if(!i){aJ()}var b8=+new Date;if(al>b8-400){E(cd);return aT(b7.line)}else{if(bE>b8-400){al=b8;E(cd);return bo(b7)}else{bE=b8}}var cf=b7,b9;if(u&&!L(aY.from,aY.to)&&!H(b7,aY.from)&&!H(aY.to,b7)){return}E(cd);a1(b7.line,b7.ch,true);function ce(cg){var ci=ah(cg,true);if(ci&&!L(ci,cf)){if(!i){aJ()}cf=ci;aX(b7,ci);bq=false;var ch=bY();if(ci.line>=ch.to||ci.line<ch.from){b9=setTimeout(bX(function(){ce(cg)}),150)}}}var cb=l(bP,"mousemove",bX(function(cg){clearTimeout(b9);E(cg);ce(cg)}),true);var cc=l(bP,"mouseup",bX(function(cg){clearTimeout(b9);var ch=ah(cg);if(ch){aX(b7,ch)}E(cg);aw();bq=true;cb();cc()}),true)}function ar(cb){cb.preventDefault();var ce=ah(cb,true),b8=cb.dataTransfer.files;if(!ce||bk.readOnly){return}if(b8&&b8.length&&window.FileReader&&window.File){function ca(ch,cg){var cf=new FileReader;cf.onload=function(){cc[cg]=cf.result;if(++b9==cd){bv(cc.join(""),ao(ce),ao(ce))}};cf.readAsText(ch)}var cd=b8.length,cc=Array(cd),b9=0;for(var b7=0;b7<cd;++b7){ca(b8[b7],b7)}}else{try{var cc=cb.dataTransfer.getData("Text");if(cc){bv(cc,ce,ce)}}catch(cb){}}}function ae(b8){var b7=bN();B(b7);b8.dataTransfer.setDragImage(O,0,0);b8.dataTransfer.setData("Text",b7)}function aB(cb){if(!i){aJ()}var ca=cb.keyCode;if(x&&ca==27){cb.returnValue=false}var b9=(y?cb.metaKey:cb.ctrlKey)&&!cb.altKey,b8=cb.ctrlKey||cb.altKey||cb.metaKey;if(ca==16||cb.shiftKey){bd=bd||(aY.inverted?aY.to:aY.from)}else{bd=null}if(bk.onKeyEvent&&bk.onKeyEvent(bT,z(cb))){return}if(ca==33||ca==34){bO(ca==34);return E(cb)}if(b9&&((ca==36||ca==35)||y&&(ca==38||ca==40))){bZ(ca==36||ca==38);return E(cb)}if(b9&&ca==65){bx();return E(cb)}if(!bk.readOnly){if(!b8&&ca==13){return}if(!b8&&ca==9&&aF(cb.shiftKey)){return E(cb)}if(b9&&ca==90){bI();return E(cb)}if(b9&&((cb.shiftKey&&ca==90)||ca==89)){b6();return E(cb)}}if(ca==36){if(bk.smartHome){a9();return E(cb)}}aV=(b9?"c":"")+(cb.altKey?"a":"")+ca;if(aY.inverted&&M[aV]===true){var b7=N(b2);if(b7){bG={anchor:b7.start};b(b2,b7.start,b7.start)}}if(!b9&&!cb.altKey){aV=null}bR(aV)}function br(b7){if(bk.onKeyEvent&&bk.onKeyEvent(bT,z(b7))){return}if(bG){bG=null;bq=true}if(b7.keyCode==16){bd=null}}function bh(b9){if(bk.onKeyEvent&&bk.onKeyEvent(bT,z(b9))){return}if(bk.electricChars&&bm.electricChars){var b7=String.fromCharCode(b9.charCode==null?b9.keyCode:b9.charCode);if(bm.electricChars.indexOf(b7)>-1){setTimeout(bX(function(){aA(aY.to.line,"smart")}),50)}}var b8=b9.keyCode;if(b8==13){if(!bk.readOnly){aG()}E(b9)}else{if(!b9.ctrlKey&&!b9.altKey&&!b9.metaKey&&b8==9&&bk.tabMode!="default"){E(b9)}else{bR(aV)}}}function aJ(){if(bk.readOnly=="nocursor"){return}if(!i){if(bk.onFocus){bk.onFocus(bT)}i=true;if(bw.className.search(/\bCodeMirror-focused\b/)==-1){bw.className+=" CodeMirror-focused"}if(!bS){aI()}}bH();T()}function aH(){if(i){if(bk.onBlur){bk.onBlur(bT)}i=false;bw.className=bw.className.replace(" CodeMirror-focused","")}clearInterval(am);setTimeout(function(){if(!i){bd=null}},150)}function bp(ce,cd,cb,b8,b7){if(bb){var b9=[];for(var ca=ce.line,cc=cd.line+1;ca<cc;++ca){b9.push(bW[ca].text)}bb.addChange(ce.line,cb.length,b9);while(bb.done.length>bk.undoDepth){bb.done.shift()}}V(ce,cd,cb,b8,b7)}function a0(cd,cc){var cb=cd.pop();if(cb){var b9=[],b7=cb.start+cb.added;for(var b8=cb.start;b8<b7;++b8){b9.push(bW[b8].text)}cc.push({start:cb.start,added:cb.old.length,old:b9});var ca=ao({line:cb.start+cb.old.length-1,ch:G(b9[b9.length-1],cb.old[cb.old.length-1])});V({line:cb.start,ch:0},{line:b7-1,ch:bW[b7-1].text.length},cb.old,ca,ca);bq=true}}function bI(){a0(bb.done,bb.undone)}function b6(){a0(bb.undone,bb.done)}function V(ci,cb,cn,b7,co){var cm=false,ca=aP.length;for(var cj=ci.line;cj<=cb.line;++cj){if(bW[cj].text.length==ca){cm=true;break}}var ce=cb.line-ci.line,cd=bW[ci.line],b8=bW[cb.line];if(cd==b8){if(cn.length==1){cd.replace(ci.ch,cb.ch,cn[0])}else{b8=cd.split(cb.ch,cn[cn.length-1]);var cf=[ci.line+1,ce];cd.replace(ci.ch,cd.text.length,cn[0]);for(var cj=1,cl=cn.length-1;cj<cl;++cj){cf.push(new c(cn[cj]))}cf.push(b8);bW.splice.apply(bW,cf)}}else{if(cn.length==1){cd.replace(ci.ch,cd.text.length,cn[0]+b8.text.slice(cb.ch));bW.splice(ci.line+1,ce)}else{var cf=[ci.line+1,ce-1];cd.replace(ci.ch,cd.text.length,cn[0]);b8.replace(0,cb.ch,cn[cn.length-1]);for(var cj=1,cl=cn.length-1;cj<cl;++cj){cf.push(new c(cn[cj]))}bW.splice.apply(bW,cf)}}for(var cj=ci.line,cl=cj+cn.length;cj<cl;++cj){var ch=bW[cj].text;if(ch.length>ca){aP=ch;ca=ch.length;Z=null;cm=false}}if(cm){ca=0;aP="";Z=null;for(var cj=0,cl=bW.length;cj<cl;++cj){var ch=bW[cj].text;if(ch.length>ca){ca=ch.length;aP=ch}}}var b9=[],cc=cn.length-ce-1;for(var cj=0,ch=be.length;cj<ch;++cj){var ck=be[cj];if(ck<ci.line){b9.push(ck)}else{if(ck>cb.line){b9.push(ck+cc)}}}if(cn.length<5){bi(ci.line,ci.line+cn.length);b9.push(ci.line+cn.length)}else{b9.push(ci.line)}be=b9;b1(100);bU.push({from:ci.line,to:cb.line+1,diff:cc});aQ={from:ci,to:cb,text:cn};function cg(cp){return cp<=Math.min(cb.line,cb.line+cc)?cp:cp+cc}bF(b7,co,cg(aY.from.line),cg(aY.to.line));aL.style.height=(bW.length*bV()+2*bf())+"px"}function bv(b8,cb,ca){cb=ao(cb);if(!ca){ca=cb}else{ca=ao(ca)}b8=r(b8);function b9(ce){if(H(ce,cb)){return ce}if(!H(ca,ce)){return b7}var cc=ce.line+b8.length-(ca.line-cb.line)-1;var cd=ce.ch;if(ce.line==ca.line){cd+=b8[b8.length-1].length-(ca.ch-(ca.line==cb.line?cb.ch:0))}return{line:cc,ch:cd}}var b7;bJ(b8,cb,ca,function(cc){b7=cc;return{from:b9(aY.from),to:b9(aY.to)}});return b7}function aq(b7,b8){bJ(r(b7),aY.from,aY.to,function(b9){if(b8=="end"){return{from:b9,to:b9}}else{if(b8=="start"){return{from:aY.from,to:aY.from}}else{return{from:aY.from,to:b9}}}})}function bJ(ca,cc,cb,b7){var b9=ca.length==1?ca[0].length+cc.ch:ca[ca.length-1].length;var b8=b7({line:cc.line+ca.length-1,ch:b9});bp(cc,cb,ca,b8.from,b8.to)}function bg(cc,cb){var b8=cc.line,b7=cb.line;if(b8==b7){return bW[b8].text.slice(cc.ch,cb.ch)}var ca=[bW[b8].text.slice(cc.ch)];for(var b9=b8+1;b9<b7;++b9){ca.push(bW[b9].text)}ca.push(bW[b7].text.slice(0,cb.ch));return ca.join("\n")}function bN(){return bg(aY.from,aY.to)}var a5=false;function bH(){if(a5){return}aN.set(2000,function(){ac();bQ();if(i){bH()}aS()})}function bR(b9){var b7=false;a5=true;function b8(){ac();var ca=bQ();if(ca&&b9){if(ca=="moved"&&M[b9]==null){M[b9]=true}if(ca=="changed"){M[b9]=false}}if(!ca&&!b7){b7=true;aN.set(80,b8)}else{a5=false;bH()}aS()}aN.set(20,b8)}function bQ(){if(bS||!i){return}var ce=false,cn=b2.value,cp=N(b2);if(!cp){return false}var ce=aa.text!=cn,cg=bG;var cf=ce||cp.start!=aa.start||cp.end!=(cg?aa.start:aa.end);if(!cf&&!cg){return false}if(ce){bd=bG=null;if(bk.readOnly){bq=true;return"changed"}}function cb(cu,cs){var ct=0;for(;;){var ch=cn.indexOf("\n",ct);if(ch==-1||(cn.charAt(ch-1)=="\r"?ch-1:ch)>=cu){return{line:cs,ch:cu-ct}}++cs;ct=ch+1}}var co=cb(cp.start,aa.from),b8=cb(cp.end,aa.from);if(cg){var cd=cp.start==cg.anchor?b8:co;var ci=bd?aY.to:cp.start==cg.anchor?co:b8;if(aY.inverted=H(cd,ci)){co=cd;b8=ci}else{bG=null;co=ci;b8=cd}}if(co.line==b8.line&&co.line==aY.from.line&&co.line==aY.to.line&&!bd){bq=false}if(ce){var cc=0,ca=cn.length,cq=Math.min(ca,aa.text.length);var cr,ck=aa.from,b9=-1;while(cc<cq&&(cr=cn.charAt(cc))==aa.text.charAt(cc)){++cc;if(cr=="\n"){ck++;b9=cc}}var cl=b9>-1?cc-b9:cc,b7=aa.to-1,cj=aa.text.length;for(;;){cr=aa.text.charAt(cj);if(cn.charAt(ca)!=cr){++ca;++cj;break}if(cr=="\n"){b7--}if(cj<=cc||ca<=cc){break}--ca;--cj}var b9=aa.text.lastIndexOf("\n",cj-1),cm=b9==-1?cj:cj-b9-1;bp({line:ck,ch:cl},{line:b7,ch:cm},r(cn.slice(cc,ca)),co,b8);if(ck!=b7||co.line!=ck){bq=true}}else{bF(co,b8)}aa.text=cn;aa.start=cp.start;aa.end=cp.end;return ce?"changed":cf?"moved":false}function aI(){var ca=[];var cc=Math.max(0,aY.from.line-1),cb=Math.min(bW.length,aY.to.line+2);for(var b9=cc;b9<cb;++b9){ca.push(bW[b9].text)}ca=b2.value=ca.join(d);var b8=aY.from.ch,b7=aY.to.ch;for(var b9=cc;b9<aY.from.line;++b9){b8+=d.length+bW[b9].text.length}for(var b9=cc;b9<aY.to.line;++b9){b7+=d.length+bW[b9].text.length}aa={text:ca,from:cc,to:cb,start:b8,end:b7};b(b2,b8,bG?b8:b7)}function aw(){if(bk.readOnly!="nocursor"){b2.focus()}}function aR(){if(!aj.getBoundingClientRect){return}var b7=aj.getBoundingClientRect();var b8=window.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;if(b7.top<0||b7.bottom>b8){aj.scrollIntoView()}}function a3(){var b7=bC(aY.inverted?aY.from:aY.to);return b4(b7.x,b7.y,b7.x,b7.yBot)}function b4(b9,ce,b7,cd){var cb=bt(),ck=bf(),cg=bV();ce+=ck;cd+=ck;b9+=cb;b7+=cb;var ch=aK.clientHeight,ca=aK.scrollTop,b8=false,cj=true;if(ce<ca){aK.scrollTop=Math.max(0,ce-2*cg);b8=true}else{if(cd>ca+ch){aK.scrollTop=cd+cg-ch;b8=true}}var cf=aK.clientWidth,ci=aK.scrollLeft;var cc=bk.fixedGutter?aW.clientWidth:0;if(b9<ci+cc){if(b9<50){b9=0}aK.scrollLeft=Math.max(0,b9-10-cc);b8=true}else{if(b7>cf+ci){aK.scrollLeft=b7+10-cf;b8=true;if(b7>aL.clientWidth){cj=false}}}if(b8&&bk.onScroll){bk.onScroll(bT)}return cj}function bY(){var b7=bV(),b8=aK.scrollTop-bf();return{from:Math.min(bW.length,Math.max(0,Math.floor(b8/b7))),to:Math.min(bW.length,Math.ceil((b8+aK.clientHeight)/b7))}}function ak(cp){if(!aK.clientWidth){bn=bD=0;return}var co=cp===true?[]:[{from:bn,to:bD,domStart:0}];for(var cn=0,cj=cp.length||0;cn<cj;++cn){var cd=cp[cn],cb=[],ce=cd.diff||0;for(var cm=0,ck=co.length;cm<ck;++cm){var cg=co[cm];if(cd.to<=cg.from){cb.push({from:cg.from+ce,to:cg.to+ce,domStart:cg.domStart})}else{if(cg.to<=cd.from){cb.push(cg)}else{if(cd.from>cg.from){cb.push({from:cg.from,to:cd.from,domStart:cg.domStart})}if(cd.to<cg.to){cb.push({from:cd.to+ce,to:cg.to+ce,domStart:cg.domStart+(cd.to-cg.from)})}}}}co=cb}var b8=bY();var cl=Math.min(bn,Math.max(b8.from-3,0)),b7=Math.min(bW.length,Math.max(bD,b8.to+3)),cc=[],cf=0,ca=bD-bn,b9=cl,ci=0;for(var cn=0,cj=co.length;cn<cj;++cn){var cg=co[cn];if(cg.to<=cl){continue}if(cg.from>=b7){break}if(cg.domStart>cf||cg.from>b9){cc.push({from:b9,to:cg.from,domSize:cg.domStart-cf,domStart:cf});ci+=cg.from-b9}b9=cg.to;cf=cg.domStart+(cg.to-cg.from)}if(cf!=ca||b9!=b7){ci+=Math.abs(b7-b9);cc.push({from:b9,to:b7,domSize:ca-cf,domStart:cf});if(b7-b9!=ca-cf){bA=true}}if(!cc.length){return}an.style.display="none";if(ci>(b8.to-b8.from)*0.3){a7(cl=Math.max(b8.from-10,0),b7=Math.min(b8.to+7,bW.length))}else{ad(cc)}an.style.display="";var ch=cl!=bn||b7!=bD||bL!=aK.clientHeight;bn=cl;bD=b7;bs.style.top=(cl*bV())+"px";if(ch){bL=aK.clientHeight;aL.style.height=(bW.length*bV()+2*bf())+"px"}if(ch||bA){ab()}if(Z==null){Z=aZ(aP)}if(Z>aK.clientWidth){aO.style.width=Z+"px";aL.style.width="";aL.style.width=aK.scrollWidth+"px"}else{aO.style.width=aL.style.width=""}if(an.childNodes.length!=bD-bn){throw new Error("BAD PATCH! "+JSON.stringify(cc)+" size="+(bD-bn)+" nodes="+an.childNodes.length)}bM()}function a7(ce,cd){var ca=[],cc={line:ce,ch:0},cb=H(aY.from,cc)&&!H(aY.to,cc);for(var b9=ce;b9<cd;++b9){var b8=null,b7=null;if(cb){b8=0;if(aY.to.line==b9){cb=false;b7=aY.to.ch}}else{if(aY.from.line==b9){if(aY.to.line==b9){b8=aY.from.ch;b7=aY.to.ch}else{cb=true;b8=aY.from.ch}}}ca.push(bW[b9].getHTML(b8,b7,true))}an.innerHTML=ca.join("")}function ad(cj){var ck=aY.from.line,cl=aY.to.line,b9=0,ch=C&&bP.createElement("div");for(var cf=0,cg=cj.length;cf<cg;++cf){var cc=cj[cf];var cb=(cc.to-cc.from)-cc.domSize;var ci=an.childNodes[cc.domStart+cc.domSize+b9]||null;if(C){for(var ce=Math.max(-cb,cc.domSize);ce>0;--ce){an.removeChild(ci?ci.previousSibling:an.lastChild)}}else{if(cb){for(var ce=Math.max(0,cb);ce>0;--ce){an.insertBefore(bP.createElement("pre"),ci)}for(var ce=Math.max(0,-cb);ce>0;--ce){an.removeChild(ci?ci.previousSibling:an.lastChild)}}}var ca=an.childNodes[cc.domStart+b9],cd=ck<cc.from&&cl>=cc.from;for(var ce=cc.from;ce<cc.to;++ce){var b8=null,b7=null;if(cd){b8=0;if(cl==ce){cd=false;b7=aY.to.ch}}else{if(ck==ce){if(cl==ce){b8=aY.from.ch;b7=aY.to.ch}else{cd=true;b8=aY.from.ch}}}if(C){ch.innerHTML=bW[ce].getHTML(b8,b7,true);an.insertBefore(ch.firstChild,ci)}else{ca.innerHTML=bW[ce].getHTML(b8,b7,false);ca.className=bW[ce].className||"";ca=ca.nextSibling}}b9+=cb}}function ab(){if(!bk.gutter&&!bk.lineNumbers){return}var b9=bs.offsetHeight,cg=aK.clientHeight;aW.style.height=(b9-cg<2?cg:b9)+"px";var ce=[];for(var cc=bn;cc<Math.max(bD,bn+1);++cc){var cd=bW[cc].gutterMarker;var cf=bk.lineNumbers?cc+bk.firstLineNumber:null;if(cd&&cd.text){cf=cd.text.replace("%N%",cf!=null?cf:"")}else{if(cf==null){cf="\u00a0"}}ce.push((cd&&cd.style?'<pre class="'+cd.style+'">':"<pre>"),cf,"</pre>")}aW.style.display="none";b0.innerHTML=ce.join("");var cb=String(bW.length).length,b7=b0.firstChild,b8=v(b7),ca="";while(b8.length+ca.length<cb){ca+="\u00a0"}if(ca){b7.insertBefore(bP.createTextNode(ca),b7.firstChild)}aW.style.display="";aO.style.marginLeft=aW.offsetWidth+"px";bA=false}function bM(){var b9=aY.inverted?aY.from:aY.to,b8=bV();var b7=W(b9.line,b9.ch);var ca=b9.line*b8-aK.scrollTop;b5.style.top=Math.max(Math.min(ca,aK.offsetHeight),0)+"px";b5.style.left=(b7-aK.scrollLeft)+"px";if(L(aY.from,aY.to)){aj.style.top=(b9.line-bn)*b8+"px";aj.style.left=b7+"px";aj.style.display=""}else{aj.style.display="none"}}function aX(b9,b8){var b7=bd&&ao(bd);if(b7){if(H(b7,b9)){b9=b7}else{if(H(b8,b7)){b8=b7}}}bF(b9,b8)}function bF(cb,ca,b7,b9){if(L(aY.from,cb)&&L(aY.to,ca)){return}if(H(ca,cb)){var b8=ca;ca=cb;cb=b8}if(L(cb,ca)){aY.inverted=false}else{if(L(cb,aY.to)){aY.inverted=false}else{if(L(ca,aY.from)){aY.inverted=true}}}if(b7==null){b7=aY.from.line;b9=aY.to.line}if(L(cb,ca)){if(!L(aY.from,aY.to)){bU.push({from:b7,to:b9+1})}}else{if(L(aY.from,aY.to)){bU.push({from:cb.line,to:ca.line+1})}else{if(!L(cb,aY.from)){if(cb.line<b7){bU.push({from:cb.line,to:Math.min(ca.line,b7)+1})}else{bU.push({from:b7,to:Math.min(b9,cb.line)+1})}}if(!L(ca,aY.to)){if(ca.line<b9){bU.push({from:Math.max(b7,cb.line),to:b9+1})}else{bU.push({from:Math.max(cb.line,b9),to:ca.line+1})}}}}aY.from=cb;aY.to=ca;at=true}function a1(b7,b9,b8){var ca=ao({line:b7,ch:b9||0});(b8?aX:bF)(ca,ca)}function a6(b7){return Math.max(0,Math.min(b7,bW.length-1))}function ao(b9){if(b9.line<0){return{line:0,ch:0}}if(b9.line>=bW.length){return{line:bW.length-1,ch:bW[bW.length-1].text.length}}var b7=b9.ch,b8=bW[b9.line].text.length;if(b7==null||b7>b8){return{line:b9.line,ch:b8}}else{if(b7<0){return{line:b9.line,ch:0}}else{return b9}}}function bO(b9){var b7=Math.floor(aK.clientHeight/bV()),b8=aY.inverted?aY.from:aY.to;a1(b8.line+(Math.max(b7-1,1)*(b9?1:-1)),b8.ch,true)}function bZ(b7){var b8=b7?{line:0,ch:0}:{line:bW.length-1,ch:bW[bW.length-1].text.length};aX(b8,b8)}function bx(){var b7=bW.length-1;bF({line:0,ch:0},{line:b7,ch:bW[b7].text.length})}function bo(ca){var b8=bW[ca.line].text;var b9=ca.ch,b7=ca.ch;while(b9>0&&/\w/.test(b8.charAt(b9-1))){--b9}while(b7<b8.length&&/\w/.test(b8.charAt(b7))){++b7}aX({line:ca.line,ch:b9},{line:ca.line,ch:b7})}function aT(b7){aX({line:b7,ch:0},{line:b7,ch:bW[b7].text.length})}function aG(){aq("\n","end");if(bk.enterMode!="flat"){aA(aY.from.line,bk.enterMode=="keep"?"prev":"smart")}}function aF(b7){function b8(cb){if(L(aY.from,aY.to)){return aA(aY.from.line,cb)}var ca=aY.to.line-(aY.to.ch?0:1);for(var b9=aY.from.line;b9<=ca;++b9){aA(b9,cb)}}bd=null;switch(bk.tabMode){case"default":return false;case"indent":b8("smart");break;case"classic":if(L(aY.from,aY.to)){if(b7){aA(aY.from.line,"smart")}else{aq("\t","end")}break}case"shift":b8(b7?"subtract":"add");break}return true}function a9(){var b7=Math.max(0,bW[aY.from.line].text.search(/\S/));a1(aY.from.line,aY.from.ch<=b7&&aY.from.ch?0:b7,true)}function aA(b9,cg){if(cg=="smart"){if(!bm.indent){cg="prev"}else{var b7=aM(b9)}}var ch=bW[b9],cb=ch.indentation(),b8=ch.text.match(/^\s*/)[0],cd;if(cg=="prev"){if(b9){cd=bW[b9-1].indentation()}else{cd=0}}else{if(cg=="smart"){cd=bm.indent(b7,ch.text.slice(b8.length))}else{if(cg=="add"){cd=cb+bk.indentUnit}else{if(cg=="subtract"){cd=cb-bk.indentUnit}}}}cd=Math.max(0,cd);var cf=cd-cb;if(!cf){if(aY.from.line!=b9&&aY.to.line!=b9){return}var ce=b8}else{var ce="",cc=0;if(bk.indentWithTabs){for(var ca=Math.floor(cd/s);ca;--ca){cc+=s;ce+="\t"}}while(cc<cd){++cc;ce+=" "}}bv(ce,{line:b9,ch:0},{line:b9,ch:b8.length})}function bu(){bm=n.getMode(bk,bk.mode);for(var b8=0,b7=bW.length;b8<b7;++b8){bW[b8].stateAfter=null}be=[0];b1()}function U(){var b7=bk.gutter||bk.lineNumbers;aW.style.display=b7?"":"none";if(b7){bA=true}else{an.parentNode.style.marginLeft=0}}function X(cd,cc,b9){cd=ao(cd);cc=ao(cc);var b7=[];function cb(ce,ci,ch,cf){var ce=bW[ce],cg=ce.addMark(ci,ch,cf);cg.line=ce;b7.push(cg)}if(cd.line==cc.line){cb(cd.line,cd.ch,cc.ch,b9)}else{cb(cd.line,cd.ch,null,b9);for(var b8=cd.line+1,ca=cc.line;b8<ca;++b8){cb(b8,0,null,b9)}cb(cc.line,0,cc.ch,b9)}bU.push({from:cd.line,to:cc.line+1});return function(){var ci,ce;for(var cf=0;cf<b7.length;++cf){var ch=b7[cf],cg=k(bW,ch.line);ch.line.removeMark(ch);if(cg>-1){if(ci==null){ci=cg}ce=cg}}if(ci!=null){bU.push({from:ci,to:ce+1})}}}function au(b7,b9,b8){if(typeof b7=="number"){b7=bW[a6(b7)]}b7.gutterMarker={text:b9,style:b8};bA=true;return b7}function ai(b7){if(typeof b7=="number"){b7=bW[a6(b7)]}b7.gutterMarker=null;bA=true}function aU(b7,b8){if(typeof b7=="number"){var b9=b7;b7=bW[a6(b7)]}else{var b9=k(bW,b7);if(b9==-1){return null}}if(b7.className!=b8){b7.className=b8;bU.push({from:b9,to:b9+1})}return b7}function af(b8){if(typeof b8=="number"){var b9=b8;b8=bW[b8];if(!b8){return null}}else{var b9=k(bW,b8);if(b9==-1){return null}}var b7=b8.gutterMarker;return{line:b9,text:b8.text,markerText:b7&&b7.text,markerClass:b7&&b7.style}}function aZ(b7){aD.innerHTML="<pre><span>x</span></pre>";aD.firstChild.firstChild.firstChild.nodeValue=b7;return aD.firstChild.firstChild.offsetWidth||10}function W(b7,b8){if(b8==0){return 0}aD.innerHTML="<pre><span>"+bW[b7].getHTML(null,null,false,b8)+"</span></pre>";return aD.firstChild.firstChild.offsetWidth}function bj(cj,cd){if(cd<=0){return 0}var ca=bW[cj],cg=ca.text;function ch(ck){aD.innerHTML="<pre><span>"+ca.getHTML(null,null,false,ck)+"</span></pre>";return aD.firstChild.firstChild.offsetWidth}var ce=0,cc=0,cf=cg.length,cb;var b8=Math.min(cf,Math.ceil(cd/aZ("x")));for(;;){var b9=ch(b8);if(b9<=cd&&b8<cf){b8=Math.min(cf,Math.ceil(b8*1.2))}else{cb=b9;cf=b8;break}}if(cd>cb){return cf}b8=Math.floor(cf*0.8);b9=ch(b8);if(b9<cd){ce=b8;cc=b9}for(;;){if(cf-ce<=1){return(cb-cd>cd-cc)?ce:cf}var ci=Math.ceil((ce+cf)/2),b7=ch(ci);if(b7>cd){cf=ci;cb=b7}else{ce=ci;cc=b7}}}function bC(ca,b9){var b8=bV(),b7=ca.line-(b9?bn:0);return{x:W(ca.line,ca.ch),y:b7*b8,yBot:(b7+1)*b8}}function bB(b9){var b7=bC(b9,true),b8=R(aO);return{x:b8.left+b7.x,y:b8.top+b7.y,yBot:b8.top+b7.yBot}}function bV(){var b7=an.childNodes.length;if(b7){return(an.offsetHeight/b7)||1}aD.innerHTML="<pre>x</pre>";return aD.firstChild.offsetHeight||1}function bf(){return aO.offsetTop}function bt(){return aO.offsetLeft}function ah(cc,cb){var ca=R(aK,true),b7,cd;try{b7=cc.clientX;cd=cc.clientY}catch(cc){return null}if(!cb&&(b7-ca.left>aK.clientWidth||cd-ca.top>aK.clientHeight)){return null}var b9=R(aO,true);var b8=bn+Math.floor((cd-b9.top)/bV());return ao({line:b8,ch:bj(a6(b8),b7-b9.left)})}function av(b8){var cc=ah(b8);if(!cc||window.opera){return}if(L(aY.from,aY.to)||H(cc,aY.from)||!H(cc,aY.to)){bX(a1)(cc.line,cc.ch)}var cb=b2.style.cssText;b5.style.position="absolute";b2.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b8.clientY-5)+"px; left: "+(b8.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";bS=true;var ca=b2.value=bN();aw();b(b2,0,b2.value.length);function b7(){var cd=r(b2.value).join("\n");if(cd!=ca){bX(aq)(cd,"end")}b5.style.position="relative";b2.style.cssText=cb;bS=false;aI();bH()}if(A){o(b8);var b9=l(window,"mouseup",function(){b9();setTimeout(b7,20)},true)}else{setTimeout(b7,50)}}function T(){clearInterval(am);var b7=true;aj.style.visibility="";am=setInterval(function(){aj.style.visibility=(b7=!b7)?"":"hidden"},650)}var b3={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function az(cd){var b7=aY.inverted?aY.from:aY.to,cf=bW[b7.line],b8=b7.ch-1;var cc=(b8>=0&&b3[cf.text.charAt(b8)])||b3[cf.text.charAt(++b8)];if(!cc){return}var cg=cc.charAt(0),ce=cc.charAt(1)==">",cr=ce?1:-1,cm=cf.styles;for(var cs=b8+1,co=0,cq=cm.length;co<cq;co+=2){if((cs-=cm[co].length)<=0){var cp=cm[co+1];break}}var ca=[cf.text.charAt(b8)],cl=/[(){}[\]]/;function cj(cD,cy,cz){if(!cD.text){return}var cC=cD.styles,cx=ce?0:cD.text.length-1,cA;for(var cu=ce?0:cC.length-2,cw=ce?cC.length:-2;cu!=cw;cu+=2*cr){var cB=cC[cu];if(cC[cu+1]!=null&&cC[cu+1]!=cp){cx+=cr*cB.length;continue}for(var ct=ce?0:cB.length-1,ch=ce?cB.length:-1;ct!=ch;ct+=cr,cx+=cr){if(cx>=cy&&cx<cz&&cl.test(cA=cB.charAt(ct))){var cv=b3[cA];if(cv.charAt(1)==">"==ce){ca.push(cA)}else{if(ca.pop()!=cv.charAt(0)){return{pos:cx,match:false}}else{if(!ca.length){return{pos:cx,match:true}}}}}}}}for(var co=b7.line,cq=ce?Math.min(co+100,bW.length):Math.max(-1,co-100);co!=cq;co+=cr){var cf=bW[co],cb=co==b7.line;var ci=cj(cf,cb&&ce?b8+1:0,cb&&!ce?b8:cf.text.length);if(ci){break}}if(!ci){ci={pos:null,match:false}}var cp=ci.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var cn=X({line:b7.line,ch:b8},{line:b7.line,ch:b8+1},cp),b9=ci.pos!=null?X({line:co,ch:ci.pos},{line:co,ch:ci.pos+1},cp):function(){};var ck=bX(function(){cn();b9()});if(cd){setTimeout(ck,800)}else{bK=ck}}function a8(cd){var cc,b9;for(var b8=cd,ca=cd-40;b8>ca;--b8){if(b8==0){return 0}var b7=bW[b8-1];if(b7.stateAfter){return b8}var cb=b7.indentation();if(b9==null||cc>cb){b9=b8-1;cc=cb}}return b9}function aM(cb){var ca=a8(cb),b9=ca&&bW[ca-1].stateAfter;if(!b9){b9=F(bm)}else{b9=j(bm,b9)}for(var b8=ca;b8<cb;++b8){var b7=bW[b8];b7.highlight(bm,b9);b7.stateAfter=j(bm,b9)}if(cb<bW.length&&!bW[cb].stateAfter){be.push(cb)}return b9}function bi(cb,b8){var ca=aM(cb);for(var b9=cb;b9<b8;++b9){var b7=bW[b9];b7.highlight(bm,ca);b7.stateAfter=j(bm,ca)}}function bc(){var cd=+new Date+bk.workTime;var ci=be.length;while(be.length){if(!bW[bn].stateAfter){var ca=bn}else{var ca=be.pop()}if(ca>=bW.length){continue}var b8=a8(ca),b7=b8&&bW[b8-1].stateAfter;if(b7){b7=j(bm,b7)}else{b7=F(bm)}var cc=0,b9=bm.compareStates,ch=false;for(var cg=b8,cb=bW.length;cg<cb;++cg){var cj=bW[cg],ce=cj.stateAfter;if(+new Date>cd){be.push(cg);b1(bk.workDelay);if(ch){bU.push({from:ca,to:cg+1})}return}var cf=cj.highlight(bm,b7);if(cf){ch=true}cj.stateAfter=j(bm,b7);if(b9){if(ce&&b9(ce,b7)){break}}else{if(cf!==false||!ce){cc=0}else{if(++cc>3){break}}}}if(ch){bU.push({from:ca,to:cg+1})}}if(ci&&bk.onHighlightComplete){bk.onHighlightComplete(bT)}}function b1(b7){if(!be.length){return}ax.set(b7,bX(bc))}function ac(){bq=null;bU=[];aQ=at=false}function aS(){var b8=false;if(at){b8=!a3()}if(bU.length){ak(bU)}else{if(at){bM()}if(bA){ab()}}if(b8){a3()}if(at){aR();T()}if(i&&!bS&&(bq===true||(bq!==false&&at))){aI()}if(at&&bk.matchBrackets){setTimeout(bX(function(){if(bK){bK();bK=null}az(false)}),20)}var b7=aQ;if(at&&bk.onCursorActivity){bk.onCursorActivity(bT)}if(b7&&bk.onChange&&bT){bk.onChange(bT,b7)}}var aC=0;function bX(b7){return function(){if(!aC++){ac()}try{var b8=b7.apply(this,arguments)}finally{if(!--aC){aS()}}return b8}}function aE(b9,cb,b8){this.atOccurrence=false;if(b8==null){b8=typeof b9=="string"&&b9==b9.toLowerCase()}if(cb&&typeof cb=="object"){cb=ao(cb)}else{cb={line:0,ch:0}}this.pos={from:cb,to:cb};if(typeof b9!="string"){this.matches=function(ce,ci){if(ce){var cc=bW[ci.line].text.slice(0,ci.ch),cd=cc.match(b9),ch=0;while(cd){var cf=cc.indexOf(cd[0]);ch+=cf;cc=cc.slice(cf+1);var cg=cc.match(b9);if(cg){cd=cg}else{break}ch++}}else{var cc=bW[ci.line].text.slice(ci.ch),cd=cc.match(b9),ch=cd&&ci.ch+cc.indexOf(cd[0])}if(cd){return{from:{line:ci.line,ch:ch},to:{line:ci.line,ch:ch+cd[0].length},match:cd}}}}else{if(b8){b9=b9.toLowerCase()}var b7=b8?function(cc){return cc.toLowerCase()}:function(cc){return cc};var ca=b9.split("\n");if(ca.length==1){this.matches=function(cf,cg){var cd=b7(bW[cg.line].text),cc=b9.length,ce;if(cf?(cg.ch>=cc&&(ce=cd.lastIndexOf(b9,cg.ch-cc))!=-1):(ce=cd.indexOf(b9,cg.ch))!=-1){return{from:{line:cg.line,ch:ce},to:{line:cg.line,ch:ce+cc}}}}}else{this.matches=function(ch,cj){var ci=cj.line,ck=(ch?ca.length-1:0),cf=ca[ck],cl=b7(bW[ci].text);var cg=(ch?cl.indexOf(cf)+cf.length:cl.lastIndexOf(cf));if(ch?cg>=cj.ch||cg!=cf.length:cg<=cj.ch||cg!=cl.length-cf.length){return}for(;;){if(ch?!ci:ci==bW.length-1){return}cl=b7(bW[ci+=ch?-1:1].text);cf=ca[ch?--ck:++ck];if(ck>0&&ck<ca.length-1){if(cl!=cf){return}else{continue}}var ce=(ch?cl.lastIndexOf(cf):cl.indexOf(cf)+cf.length);if(ch?ce!=cl.length-cf.length:ce!=cf.length){return}var cc={line:cj.line,ch:cg},cd={line:ci,ch:ce};return{from:ch?cd:cc,to:ch?cc:cd}}}}}}aE.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(b8){var b7=this,ca=ao(b8?this.pos.from:this.pos.to);function b9(cb){var cc={line:cb,ch:0};b7.pos={from:cc,to:cc};b7.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(b8,ca)){this.atOccurrence=true;return this.pos.match||true}if(b8){if(!ca.line){return b9(0)}ca={line:ca.line-1,ch:bW[ca.line-1].text.length}}else{if(ca.line==bW.length-1){return b9(bW.length)}ca={line:ca.line+1,ch:0}}}},from:function(){if(this.atOccurrence){return I(this.pos.from)}},to:function(){if(this.atOccurrence){return I(this.pos.to)}},replace:function(b8){var b7=this;if(this.atOccurrence){bX(function(){b7.pos.to=bv(b8,b7.pos.from,b7.pos.to)})()}}};for(var bz in J){if(J.propertyIsEnumerable(bz)&&!bT.propertyIsEnumerable(bz)){bT[bz]=J[bz]}}return bT}n.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,smartHome:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var P={},D={};n.defineMode=function(i,S){if(!n.defaults.mode&&i!="null"){n.defaults.mode=i}P[i]=S};n.defineMIME=function(S,i){D[S]=i};n.getMode=function(T,i){if(typeof i=="string"&&D.hasOwnProperty(i)){i=D[i]}if(typeof i=="string"){var V=i,S={}}else{if(i!=null){var V=i.name,S=i}}var U=P[V];if(!U){if(window.console){console.warn("No mode "+V+" found, falling back to plain text.")}return n.getMode(T,"text/plain")}return U(T,S||{})};n.listModes=function(){var S=[];for(var i in P){if(P.propertyIsEnumerable(i)){S.push(i)}}return S};n.listMIMEs=function(){var S=[];for(var i in D){if(D.propertyIsEnumerable(i)){S.push({mime:i,mode:D[i]})}}return S};var J={};n.defineExtension=function(i,S){J[i]=S};n.fromTextArea=function(S,U){if(!U){U={}}U.value=S.value;if(!U.tabindex&&S.tabindex){U.tabindex=S.tabindex}function W(){S.value=i.getValue()}if(S.form){var V=l(S.form,"submit",W,true);if(typeof S.form.submit=="function"){var T=S.form.submit;function X(){W();S.form.submit=T;S.form.submit();S.form.submit=X}S.form.submit=X}}S.style.display="none";var i=n(function(Y){S.parentNode.insertBefore(Y,S.nextSibling)},U);i.save=W;i.toTextArea=function(){W();S.parentNode.removeChild(i.getWrapperElement());S.style.display="";if(S.form){V();if(typeof S.form.submit=="function"){S.form.submit=T}}};return i};function j(U,i){if(i===true){return i}if(U.copyState){return U.copyState(i)}var T={};for(var V in i){var S=i[V];if(S instanceof Array){S=S.concat([])}T[V]=S}return T}n.startState=F;function F(T,S,i){return T.startState?T.startState(S,i):true}n.copyState=j;function a(i){this.pos=this.start=0;this.string=i}a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(i){var T=this.string.charAt(this.pos);if(typeof i=="string"){var S=T==i}else{var S=T&&(i.test?i.test(T):i(T))}if(S){++this.pos;return T}},eatWhile:function(i){var S=this.pos;while(this.eat(i)){}return this.pos>S},eatSpace:function(){var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>i},skipToEnd:function(){this.pos=this.string.length},skipTo:function(i){var S=this.string.indexOf(i,this.pos);if(S>-1){this.pos=S;return true}},backUp:function(i){this.pos-=i},column:function(){return h(this.string,this.start)},indentation:function(){return h(this.string)},match:function(U,S,i){if(typeof U=="string"){function V(W){return i?W.toLowerCase():W}if(V(this.string).indexOf(V(U),this.pos)==this.pos){if(S!==false){this.pos+=U.length}return true}}else{var T=this.string.slice(this.pos).match(U);if(T&&S!==false){this.pos+=T[0].length}return T}},current:function(){return this.string.slice(this.start,this.pos)}};n.StringStream=a;function c(S,i){this.styles=i||[S,null];this.stateAfter=null;this.text=S;this.marked=this.gutterMarker=this.className=null}c.prototype={replace:function(X,Y,ab){var ac=[],V=this.marked;Q(0,X,this.styles,ac);if(ab){ac.push(ab,null)}Q(Y,this.text.length,this.styles,ac);this.styles=ac;this.text=this.text.slice(0,X)+ab+this.text.slice(Y);this.stateAfter=null;if(V){var Z=ab.length-(Y-X),T=this.text.length;function W(i){return i<=Math.min(Y,Y+Z)?i:i+Z}for(var U=0;U<V.length;++U){var S=V[U],aa=false;if(S.from>=T){aa=true}else{S.from=W(S.from);if(S.to!=null){S.to=W(S.to)}}if(aa||S.from>=S.to){V.splice(U,1);U--}}}},split:function(T,S){var i=[S,null];Q(T,this.text.length,this.styles,i);return new c(S+this.text.slice(T),i)},addMark:function(V,U,S){var i=this.marked,T={from:V,to:U,style:S};if(this.marked==null){this.marked=[]}this.marked.push(T);this.marked.sort(function(X,W){return X.from-W.from});return T},removeMark:function(U){var S=this.marked;if(!S){return}for(var T=0;T<S.length;++T){if(S[T]==U){S.splice(T,1);break}}},highlight:function(W,S){var Y=new a(this.text),aa=this.styles,X=0;var V=false,T=aa[0],Z;if(this.text==""&&W.blankLine){W.blankLine(S)}while(!Y.eol()){var i=W.token(Y,S);var U=this.text.slice(Y.start,Y.pos);Y.start=Y.pos;if(X&&aa[X-1]==i){aa[X-2]+=U}else{if(U){if(!V&&(aa[X+1]!=i||(X&&aa[X-2]!=Z))){V=true}aa[X++]=U;aa[X++]=i;Z=T;T=aa[X]}}if(Y.pos>5000){aa[X++]=this.text.slice(Y.pos);aa[X++]=null;break}}if(aa.length!=X){aa.length=X;V=true}if(X&&aa[X-2]!=Z){V=true}return V||(aa.length<5&&this.text.length<10?null:false)},getTokenAt:function(W,U,T){var i=this.text,V=new a(i);while(V.pos<T&&!V.eol()){V.start=V.pos;var S=W.token(V,U)}return{start:V.start,end:V.pos,string:V.current(),className:S||null,state:U}},indentation:function(){return h(this.text)},getHTML:function(ae,ai,V,ag){var Y=[];if(V){Y.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function aj(ar,i){if(!ar){return}if(i){Y.push('<span class="',i,'">',B(ar),"</span>")}else{Y.push(B(ar))}}var ad=this.styles,W=this.text,ac=this.marked;if(ae==ai){ae=null}var al=W.length;if(ag!=null){al=Math.min(ag,al)}if(!W&&ag==null){aj(" ",ae!=null&&ai==null?"CodeMirror-selected":null)}else{if(!ac&&ae==null){for(var ak=0,Z=0;Z<al;ak+=2){var af=ad[ak],ah=af.length;if(Z+ah>al){af=af.slice(0,al-Z)}Z+=ah;aj(af,"cm-"+ad[ak+1])}}else{var U=0,ak=0,ab="",am,ap=0;var an=-1,X=null;function ao(){if(ac){an+=1;X=(an<ac.length)?ac[an]:null}}ao();while(U<al){var aa=al;var aq="";if(ae!=null){if(ae>U){aa=ae}else{if(ai==null||ai>U){aq=" CodeMirror-selected";if(ai!=null){aa=Math.min(aa,ai)}}}}while(X&&X.to!=null&&X.to<=U){ao()}if(X){if(X.from>U){aa=Math.min(aa,X.from)}else{aq+=" "+X.style;if(X.to!=null){aa=Math.min(aa,X.to)}}}for(;;){var T=U+ab.length;var S=am;if(aq){S=am?am+aq:aq}aj(T>aa?ab.slice(0,aa-U):ab,S);if(T>=aa){ab=ab.slice(aa-U);U=aa;break}U=T;ab=ad[ak++];am="cm-"+ad[ak++]}}if(ae!=null&&ai==null){aj(" ","CodeMirror-selected")}}}if(V){Y.push("</pre>")}return Y.join("")}};function Q(Y,Z,S,aa){for(var W=0,X=0,T=0;X<Z;W+=2){var U=S[W],V=X+U.length;if(T==0){if(V>Y){aa.push(U.slice(Y-X,Math.min(U.length,Z-X)),S[W+1])}if(V>=Y){T=1}}else{if(T==1){if(V>Z){aa.push(U.slice(0,Z-X),S[W+1])}else{aa.push(U,S[W+1])}}}X=V}}function g(){this.time=0;this.done=[];this.undone=[]}g.prototype={addChange:function(Z,U,S){this.undone.length=0;var Y=+new Date,W=this.done[this.done.length-1];if(Y-this.time>400||!W||W.start>Z+U||W.start+W.added<Z-W.added+W.old.length){this.done.push({start:Z,added:U,old:S})}else{var V=0;if(Z<W.start){for(var T=W.start-Z-1;T>=0;--T){W.old.unshift(S[T])}W.added+=W.start-Z;W.start=Z}else{if(W.start<Z){V=Z-W.start;U+=V}}for(var T=W.added-V,X=S.length;T<X;++T){W.old.push(S[T])}if(W.added<U){W.added=U}}this.time=Y}};function w(){o(this)}function z(i){if(!i.stop){i.stop=w}return i}function E(i){if(i.preventDefault){i.preventDefault()}else{i.returnValue=false}}function t(i){if(i.stopPropagation){i.stopPropagation()}else{i.cancelBubble=true}}function o(i){E(i);t(i)}function f(i){return i.target||i.srcElement}function p(i){if(i.which){return i.which}else{if(i.button&1){return 1}else{if(i.button&2){return 3}else{if(i.button&4){return 2}}}}}function l(U,T,S,i){function V(W){S(W||window.event)}if(typeof U.addEventListener=="function"){U.addEventListener(T,V,false);if(i){return function(){U.removeEventListener(T,V,false)}}}else{U.attachEvent("on"+T,V);if(i){return function(){U.detachEvent("on"+T,V)}}}}function q(){this.id=null}q.prototype={set:function(i,S){clearTimeout(this.id);this.id=setTimeout(S,i)}};var C=(function(){var i=document.createElement("pre");i.innerHTML=" ";return !i.innerHTML})();var u=(function(){if(/MSIE [1-8]\b/.test(navigator.userAgent)){return false}var i=document.createElement("div");return"ondragstart" in i&&"ondrop" in i})();var A=/gecko\/\d{7}/i.test(navigator.userAgent);var x=/MSIE \d/.test(navigator.userAgent);var e=/Apple Computer/.test(navigator.vendor);var d="\n";(function(){var i=document.createElement("textarea");i.value="foo\nbar";if(i.value.indexOf("\r")>-1){d="\r\n"}}());var s=8;var y=/Mac/.test(navigator.platform);var M={};for(var K=35;K<=40;++K){M[K]=M["c"+K]=true}function h(T,S){if(S==null){S=T.search(/[^\s\u00a0]/);if(S==-1){S=T.length}}for(var U=0,V=0;U<S;++U){if(T.charAt(U)=="\t"){V+=s-(V%s)}else{++V}}return V}function m(i){if(i.currentStyle){return i.currentStyle}return window.getComputedStyle(i,null)}function R(U,T){var W=U.ownerDocument.body;var S=0,Y=0,i=false;for(var X=U;X;X=X.offsetParent){S+=X.offsetLeft;Y+=X.offsetTop;if(T&&m(X).position=="fixed"){i=true}}var V=T&&!i?null:W;for(var X=U.parentNode;X!=V;X=X.parentNode){if(X.scrollLeft!=null){S-=X.scrollLeft;Y-=X.scrollTop}}return{left:S,top:Y}}function v(i){return i.textContent||i.innerText||i.nodeValue||""}function L(S,i){return S.line==i.line&&S.ch==i.ch}function H(S,i){return S.line<i.line||(S.line==i.line&&S.ch<i.ch)}function I(i){return{line:i.line,ch:i.ch}}var O=document.createElement("div");function B(i){O.innerText=O.textContent=i;return O.innerHTML}n.htmlEscape=B;function G(V,U){if(!U){return V?V.length:0}if(!V){return U.length}for(var T=V.length,S=U.length;T>=0&&S>=0;--T,--S){if(V.charAt(T)!=U.charAt(S)){break}}return S+1}function k(V,S){if(V.indexOf){return V.indexOf(S)}for(var T=0,U=V.length;T<U;++T){if(V[T]==S){return T}}return -1}var r,N,b;if("\n\nb".split(/\n/).length!=3){r=function(T){var U=0,S,i=[];while((S=T.indexOf("\n",U))>-1){i.push(T.slice(U,T.charAt(S-1)=="\r"?S-1:S));U=S+1}i.push(T.slice(U));return i}}else{r=function(i){return i.split(/\r?\n/)}}n.splitLines=r;if(window.getSelection){N=function(S){try{return{start:S.selectionStart,end:S.selectionEnd}}catch(i){return null}};if(e){b=function(S,T,i){if(T==i){S.setSelectionRange(T,i)}else{S.setSelectionRange(T,i-1);window.getSelection().modify("extend","forward","character")}}}else{b=function(T,U,i){try{T.setSelectionRange(U,i)}catch(S){}}}}else{N=function(U){try{var Y=U.ownerDocument.selection.createRange()}catch(aa){return null}if(!Y||Y.parentElement()!=U){return null}var T=U.value,Z=T.length,ab=U.createTextRange();ab.moveToBookmark(Y.getBookmark());var W=U.createTextRange();W.collapse(false);if(ab.compareEndPoints("StartToEnd",W)>-1){return{start:Z,end:Z}}var S=-ab.moveStart("character",-Z);for(var X=T.indexOf("\r");X>-1&&X<S;X=T.indexOf("\r",X+1),S++){}if(ab.compareEndPoints("EndToEnd",W)>-1){return{start:S,end:Z}}var V=-ab.moveEnd("character",-Z);for(var X=T.indexOf("\r");X>-1&&X<V;X=T.indexOf("\r",X+1),V++){}return{start:S,end:V}};b=function(W,Y,T){var U=W.createTextRange();U.collapse(true);var S=U.duplicate();var V=0,i=W.value;for(var X=i.indexOf("\n");X>-1&&X<Y;X=i.indexOf("\n",X+1)){++V}U.move("character",Y-V);for(;X>-1&&X<T;X=i.indexOf("\n",X+1)){++V}S.move("character",T-V);U.setEndPoint("EndToEnd",S);U.select()}}n.defineMode("null",function(){return{token:function(i){i.skipToEnd()}}});n.defineMIME("text/plain","null");return n})();(function(){function c(g){var e={},f=g.split(" ");for(var d=0;d<f.length;++d){e[f[d]]=true}return e}function a(d){return function(f,e){if(f.match(d)){e.tokenize=null}else{f.skipToEnd()}return"string"}}var b={name:"clike",keywords:c("abstract and array as break case catch cfunction class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw try use var while xor returndie echo empty exit eval include include_once isset list require require_once print unset"),blockKeywords:c("catch do else elseif for foreach if switch try while"),atoms:c("true false null TRUE FALSE NULL"),multiLineStrings:true,hooks:{"$":function(e,d){e.eatWhile(/[\w\$_]/);return"variable-2"},"<":function(e,d){if(e.match(/<</)){e.eatWhile(/[\w\.]/);d.tokenize=a(e.current().slice(3));return d.tokenize(e,d)}return false}}};CodeMirror.defineMode("php",function(f,h){var j=CodeMirror.getMode(f,"text/html");var i=CodeMirror.getMode(f,"text/javascript");var g=CodeMirror.getMode(f,"text/css");var d=CodeMirror.getMode(f,b);function e(m,l){if(l.curMode==j){var k=j.token(m,l.curState);if(k=="meta"&&/^<\?/.test(m.current())){l.curMode=d;l.curState=l.php;l.curClose=/^\?>/;l.mode="php"}else{if(k=="tag"&&m.current()==">"&&l.curState.context){if(/^script$/i.test(l.curState.context.tagName)){l.curMode=i;l.curState=i.startState(j.indent(l.curState,""));l.curClose=/^<\/\s*script\s*>/i;l.mode="javascript"}else{if(/^style$/i.test(l.curState.context.tagName)){l.curMode=g;l.curState=g.startState(j.indent(l.curState,""));l.curClose=/^<\/\s*style\s*>/i;l.mode="css"}}}}return k}else{if(m.match(l.curClose,false)){l.curMode=j;l.curState=l.html;l.curClose=null;l.mode="html";return e(m,l)}else{return l.curMode.token(m,l.curState)}}}return{startState:function(){var k=j.startState();return{html:k,php:d.startState(),curMode:h.startOpen?d:j,curState:h.startOpen?d.startState():k,curClose:h.startOpen?/^\?>/:null,mode:h.startOpen?"php":"html"}},copyState:function(n){var l=n.html,m=CodeMirror.copyState(j,l),p=n.php,k=CodeMirror.copyState(d,p),o;if(n.curState==l){o=m}else{if(n.curState==p){o=k}else{o=CodeMirror.copyState(n.curMode,n.curState)}}return{html:m,php:k,curMode:n.curMode,curState:o,curClose:n.curClose}},token:e,indent:function(l,k){if((l.curMode!=d&&/^\s*<\//.test(k))||(l.curMode==d&&/^\?>/.test(k))){return j.indent(l.html,k)}return l.curMode.indent(l.curState,k)},electricChars:"/{}:"}});CodeMirror.defineMIME("application/x-httpd-php","php");CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:true});CodeMirror.defineMIME("text/x-php",b)})();CodeMirror.defineMode("python",function(k,u){var c="error";function p(z){return new RegExp("^(("+z.join(")|(")+"))\\b")}var o=new RegExp("^[\\+\\-\\*/%&|\\^~<>!]");var q=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]");var a=new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))");var i=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))");var w=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");var h=new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var e=p(["and","or","not","is","in"]);var t=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"];var r=["bool","classmethod","complex","dict","enumerate","float","frozenset","int","list","object","property","reversed","set","slice","staticmethod","str","super","tuple","type"];var d={types:["basestring","buffer","file","long","unicode","xrange"],keywords:["exec","print"]};var b={types:["bytearray","bytes","filter","map","memoryview","open","range","zip"],keywords:["nonlocal"]};if(!!u.version&&parseInt(u.version,10)===3){t=t.concat(b.keywords);r=r.concat(b.types);var l=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{t=t.concat(d.keywords);r=r.concat(d.types);var l=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var j=p(t);var n=p(r);var v=null;function y(F,E){if(F.sol()){var A=E.scopes[0].offset;if(F.eatSpace()){var C=F.indentation();if(C>A){v="indent"}else{if(C<A){v="dedent"}}return null}else{if(A>0){f(F,E)}}}if(F.eatSpace()){return null}var D=F.peek();if(D==="#"){F.skipToEnd();return"comment"}if(F.match(/^[0-9\.]/,false)){var B=false;if(F.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)){B=true}if(F.match(/^\d+\.\d*/)){B=true}if(F.match(/^\.\d+/)){B=true}if(B){F.eat(/J/i);return"number"}var z=false;if(F.match(/^0x[0-9a-f]+/i)){z=true}if(F.match(/^0b[01]+/i)){z=true}if(F.match(/^0o[0-7]+/i)){z=true}if(F.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){F.eat(/J/i);z=true}if(F.match(/^0(?![\dx])/i)){z=true}if(z){F.eat(/L/i);return"number"}}if(F.match(l)){E.tokenize=s(F.current());return E.tokenize(F,E)}if(F.match(w)||F.match(i)){return null}if(F.match(a)||F.match(o)||F.match(e)){return"operator"}if(F.match(q)){return null}if(F.match(n)){return"builtin"}if(F.match(j)){return"keyword"}if(F.match(h)){return"variable"}F.next();return c}function s(z){while("rub".indexOf(z.charAt(0).toLowerCase())>=0){z=z.substr(1)}var B=z.length==1;var A="string";return function C(E,D){while(!E.eol()){E.eatWhile(/[^'"\\]/);if(E.eat("\\")){E.next();if(B&&E.eol()){return A}}else{if(E.match(z)){D.tokenize=y;return A}else{E.eat(/['"]/)}}}if(B){if(u.singleLineStringErrors){return c}else{D.tokenize=y}}return A}}function m(D,C,B){B=B||"py";var z=0;if(B==="py"){for(var A=0;A<C.scopes.length;++A){if(C.scopes[A].type==="py"){z=C.scopes[A].offset+k.indentUnit;break}}}else{z=D.column()+D.current().length}C.scopes.unshift({offset:z,type:B})}function f(D,C){if(C.scopes.length==1){return}if(C.scopes[0].type==="py"){var A=D.indentation();var B=-1;for(var z=0;z<C.scopes.length;++z){if(A===C.scopes[z].offset){B=z;break}}if(B===-1){return true}while(C.scopes[0].offset!==A){C.scopes.shift()}return false}else{C.scopes.shift();return false}}function x(D,B){v=null;var A=B.tokenize(D,B);var C=D.current();if(C==="."){A=B.tokenize(D,B);C=D.current();if(A==="variable"){return"variable"}else{return c}}if(C==="@"){A=B.tokenize(D,B);C=D.current();if(A==="variable"||C==="@staticmethod"||C==="@classmethod"){return"meta"}else{return c}}if(C==="pass"||C==="return"){B.dedent+=1}if((C===":"&&!B.lambda&&B.scopes[0].type=="py")||v==="indent"){m(D,B)}var z="[({".indexOf(C);if(z!==-1){m(D,B,"])}".slice(z,z+1))}if(v==="dedent"){if(f(D,B)){return c}}z="])}".indexOf(C);if(z!==-1){if(f(D,B)){return c}}if(B.dedent>0&&D.eol()&&B.scopes[0].type=="py"){if(B.scopes.length>1){B.scopes.shift()}B.dedent-=1}return A}var g={startState:function(z){return{tokenize:y,scopes:[{offset:z||0,type:"py"}],lastToken:null,lambda:false,dedent:0}},token:function(B,A){var z=x(B,A);A.lastToken={style:z,content:B.current()};if(B.eol()&&B.lambda){A.lambda=false}return z},indent:function(A,z){if(A.tokenize!=y){return 0}return A.scopes[0].offset}};return g});CodeMirror.defineMIME("text/x-python","python");CodeMirror.defineMode("velocity",function(c){function e(q){var o={},p=q.split(" ");for(var n=0;n<p.length;++n){o[p[n]]=true}return o}var h=c.indentUnit;var g=e("#end #else #break #stop #[[ #]] #{end} #{else} #{break} #{stop}");var f=e("#if #elseif #foreach #set #include #parse #macro #define #evaluate #{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}");var k=e("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent $velocityCount");var b=/[+\-*&%=<>!?:\/|]/;var i=true;function a(p,o,n){o.tokenize=n;return n(p,o)}function d(r,p){var o=p.beforeParams;p.beforeParams=false;var n=r.next();if((n=='"'||n=="'")&&p.inParams){return a(r,p,m(n))}else{if(/[\[\]{}\(\),;\.]/.test(n)){if(n=="("&&o){p.inParams=true}else{if(n==")"){p.inParams=false}}return null}else{if(/\d/.test(n)){r.eatWhile(/[\w\.]/);return"number"}else{if(n=="#"&&r.eat("*")){return a(r,p,j)}else{if(n=="#"&&r.match(/ *\[ *\[/)){return a(r,p,l)}else{if(n=="#"&&r.eat("#")){r.skipToEnd();return"comment"}else{if(n=="$"){r.eatWhile(/[\w\d\$_\.{}]/);if(k&&k.propertyIsEnumerable(r.current().toLowerCase())){return"keyword"}else{p.beforeParams=true;return"builtin"}}else{if(b.test(n)){r.eatWhile(b);return"operator"}else{r.eatWhile(/[\w\$_{}]/);var q=r.current().toLowerCase();if(g&&g.propertyIsEnumerable(q)){return"keyword"}if(f&&f.propertyIsEnumerable(q)||r.current().match(/^#[a-z0-9_]+ *$/i)&&r.peek()=="("){p.beforeParams=true;return"keyword"}return null}}}}}}}}}function m(n){return function(s,q){var r=false,p,o=false;while((p=s.next())!=null){if(p==n&&!r){o=true;break}r=!r&&p=="\\"}if(o){q.tokenize=d}return"string"}}function j(q,p){var n=false,o;while(o=q.next()){if(o=="#"&&n){p.tokenize=d;break}n=(o=="*")}return"comment"}function l(q,p){var n=0,o;while(o=q.next()){if(o=="#"&&n==2){p.tokenize=d;break}if(o=="]"){n++}else{if(o!=" "){n=0}}}return"meta"}return{startState:function(n){return{tokenize:d,beforeParams:false,inParams:false}},token:function(o,n){if(o.eatSpace()){return null}return n.tokenize(o,n)}}});CodeMirror.defineMIME("text/velocity","velocity");CodeMirror.defineMode("ruby",function(e,h){function b(s){var r={};for(var p=0,q=s.length;p<q;++p){r[s[p]]=true}return r}var j=b(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload"]);var i=b(["def","class","case","for","while","do","module","then","unless","catch","loop","proc"]);var d=b(["end","until"]);var c={"[":"]","{":"}","(":")"};var l;function a(o,q,p){p.tokenize.push(o);return o(q,p)}function f(t,r){l=null;if(t.sol()&&t.match("=begin")&&t.eol()){r.tokenize.push(k);return"comment"}if(t.eatSpace()){return null}var q=t.next();if(q=="`"||q=="'"||q=='"'||q=="/"){return a(m(q,"string",q=='"'),t,r)}else{if(q=="%"){var p,u=false;if(t.eat("s")){p="atom"}else{if(t.eat(/[WQ]/)){p="string";u=true}else{if(t.eat(/[wxqr]/)){p="string"}}}var s=t.eat(/[^\w\s]/);if(!s){return"operator"}if(c.propertyIsEnumerable(s)){s=c[s]}return a(m(s,p,u,true),t,r)}else{if(q=="#"){t.skipToEnd();return"comment"}else{if(q=="<"&&t.eat("<")){t.eat("-");t.eat(/[\'\"\`]/);var o=t.match(/^\w+/);t.eat(/[\'\"\`]/);if(o){return a(g(o[0]),t,r)}return null}else{if(q=="0"){if(t.eat("x")){t.eatWhile(/[\da-fA-F]/)}else{if(t.eat("b")){t.eatWhile(/[01]/)}else{t.eatWhile(/[0-7]/)}}return"number"}else{if(/\d/.test(q)){t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/);return"number"}else{if(q=="?"){while(t.match(/^\\[CM]-/)){}if(t.eat("\\")){t.eatWhile(/\w/)}else{t.next()}return"string"}else{if(q==":"){if(t.eat("'")){return a(m("'","atom",false),t,r)}if(t.eat('"')){return a(m('"',"atom",true),t,r)}t.eatWhile(/[\w\?]/);return"atom"}else{if(q=="@"){t.eat("@");t.eatWhile(/[\w\?]/);return"variable-2"}else{if(q=="$"){t.next();t.eatWhile(/[\w\?]/);return"variable-3"}else{if(/\w/.test(q)){t.eatWhile(/[\w\?]/);if(t.eat(":")){return"atom"}return"ident"}else{if(q=="|"&&(r.varList||r.lastTok=="{"||r.lastTok=="do")){l="|";return null}else{if(/[\(\)\[\]{}\\;]/.test(q)){l=q;return null}else{if(q=="-"&&t.eat(">")){return"arrow"}else{if(/[=+\-\/*:\.^%<>~|]/.test(q)){t.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"operator"}else{return null}}}}}}}}}}}}}}}}function n(){var o=1;return function(q,p){if(q.peek()=="}"){o--;if(o==0){p.tokenize.pop();return p.tokenize[p.tokenize.length-1](q,p)}}else{if(q.peek()=="{"){o++}}return f(q,p)}}function m(o,p,r,q){return function(v,t){var u=false,s;while((s=v.next())!=null){if(s==o&&(q||!u)){t.tokenize.pop();break}if(r&&s=="#"&&!u&&v.eat("{")){t.tokenize.push(n(arguments.callee));break}u=!u&&s=="\\"}return p}}function g(o){return function(q,p){if(q.match(o)){p.tokenize.pop()}else{q.skipToEnd()}return"string"}}function k(p,o){if(p.sol()&&p.match("=end")&&p.eol()){o.tokenize.pop()}p.skipToEnd();return"comment"}return{startState:function(){return{tokenize:[f],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:false,lastTok:null,varList:false}},token:function(s,p){if(s.sol()){p.indented=s.indentation()}var o=p.tokenize[p.tokenize.length-1](s,p),r;if(o=="ident"){var q=s.current();o=j.propertyIsEnumerable(s.current())?"keyword":/^[A-Z]/.test(q)?"tag":(p.lastTok=="def"||p.lastTok=="class"||p.varList)?"def":"variable";if(i.propertyIsEnumerable(q)){r="indent"}else{if(d.propertyIsEnumerable(q)){r="dedent"}else{if(q=="if"&&s.column()==s.indentation()){r="indent"}}}}if(l||(o&&o!="comment")){p.lastTok=q||l||o}if(l=="|"){p.varList=!p.varList}if(r=="indent"||/[\(\[\{]/.test(l)){p.context={prev:p.context,type:l||o,indented:p.indented}}else{if((r=="dedent"||/[\)\]\}]/.test(l))&&p.context.prev){p.context=p.context.prev}}if(s.eol()){p.continuedLine=(l=="\\"||o=="operator")}return o},indent:function(s,o){if(s.tokenize[s.tokenize.length-1]!=f){return 0}var r=o&&o.charAt(0);var q=s.context;var p=q.type==c[r]||q.type=="keyword"&&/^(?:end|until|else|elsif|when)\b/.test(o);return q.indented+(p?0:e.indentUnit)+(s.continuedLine?e.indentUnit:0)}}});CodeMirror.defineMIME("text/x-ruby","ruby");CodeMirror.defineMode("smalltalk",function(b,d){var e={"true":1,"false":1,nil:1,self:1,"super":1,thisContext:1};var f=b.indentUnit;function a(p,o,n){o.tokenize=n;return n(p,o)}var k;function i(o,n){k=o;return n}function c(p,o){var n=p.next();if(n=='"'){return a(p,o,h(n))}else{if(n=="'"){return a(p,o,m(n))}else{if(n=="#"){p.eatWhile(/[\w\$_]/);return i("string","string")}else{if(/\d/.test(n)){p.eatWhile(/[\w\.]/);return i("number","number")}else{if(/[\[\]()]/.test(n)){return i(n,null)}else{p.eatWhile(/[\w\$_]/);if(e&&e.propertyIsEnumerable(p.current())){return i("keyword","keyword")}return i("word","variable")}}}}}}function m(n){return function(s,q){var r=false,p,o=false;while((p=s.next())!=null){if(p==n&&!r){o=true;break}r=!r&&p=="\\"}if(o||!(r)){q.tokenize=c}return i("string","string")}}function h(n){return function(r,q){var p,o=false;while((p=r.next())!=null){if(p==n){o=true;break}}if(o){q.tokenize=c}return i("comment","comment")}}function l(r,o,n,q,p){this.indented=r;this.column=o;this.type=n;this.align=q;this.prev=p}function g(p,n,o){return p.context=new l(p.indented,n,o,null,p.context)}function j(n){return n.context=n.context.prev}return{startState:function(n){return{tokenize:c,context:new l((n||0)-f,0,"top",false),indented:0,startOfLine:true}},token:function(q,p){var n=p.context;if(q.sol()){if(n.align==null){n.align=false}p.indented=q.indentation();p.startOfLine=true}if(q.eatSpace()){return null}var o=p.tokenize(q,p);if(k=="comment"){return o}if(n.align==null){n.align=true}if(k=="["){g(p,q.column(),"]")}else{if(k=="("){g(p,q.column(),")")}else{if(k==n.type){j(p)}}}p.startOfLine=false;return o},indent:function(r,o){if(r.tokenize!=c){return 0}var q=o&&o.charAt(0),n=r.context,p=q==n.type;if(n.align){return n.column+(p?0:1)}else{return n.indented+(p?0:f)}},electricChars:"]"}});CodeMirror.defineMIME("text/x-stsrc",{name:"smalltalk"});CodeMirror.defineMode("htmlmixed",function(b,d){var a=CodeMirror.getMode(b,{name:"xml",htmlMode:true});var c=CodeMirror.getMode(b,"javascript");var i=CodeMirror.getMode(b,"css");function e(l,k){var j=a.token(l,k.htmlState);if(j=="tag"&&l.current()==">"&&k.htmlState.context){if(/^script$/i.test(k.htmlState.context.tagName)){k.token=h;k.localState=c.startState(a.indent(k.htmlState,""));k.mode="javascript"}else{if(/^style$/i.test(k.htmlState.context.tagName)){k.token=f;k.localState=i.startState(a.indent(k.htmlState,""));k.mode="css"}}}return j}function g(n,j,k){var m=n.current();var l=m.search(j);if(l>-1){n.backUp(m.length-l)}return k}function h(k,j){if(k.match(/^<\/\s*script\s*>/i,false)){j.token=e;j.curState=null;j.mode="html";return e(k,j)}return g(k,/<\/\s*script\s*>/,c.token(k,j.localState))}function f(k,j){if(k.match(/^<\/\s*style\s*>/i,false)){j.token=e;j.localState=null;j.mode="html";return e(k,j)}return g(k,/<\/\s*style\s*>/,i.token(k,j.localState))}return{startState:function(){var j=a.startState();return{token:e,localState:null,mode:"html",htmlState:j}},copyState:function(k){if(k.localState){var j=CodeMirror.copyState(k.token==f?i:c,k.localState)}return{token:k.token,localState:j,mode:k.mode,htmlState:CodeMirror.copyState(a,k.htmlState)}},token:function(k,j){return j.token(k,j)},indent:function(k,j){if(k.token==e||/^\s*<\//.test(j)){return a.indent(k.htmlState,j)}else{if(k.token==h){return c.indent(k.localState,j)}else{return i.indent(k.localState,j)}}},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");CodeMirror.defineMode("jinja2",function(b,a){var c=["block","endblock","for","endfor","in","true","false","loop","none","self","super","if","as","not","and","else","import","with","without","context"];c=new RegExp("^(("+c.join(")|(")+"))\\b");function e(h,g){var f=h.next();if(f=="{"){if(f=h.eat(/\{|%|#/)){h.eat("-");g.tokenize=d(f);return"tag"}}}function d(f){if(f=="{"){f="}"}return function(i,h){var g=i.next();if((g==f||(g=="-"&&i.eat(f)))&&i.eat("}")){h.tokenize=e;return"tag"}if(i.match(c)){return"keyword"}return f=="#"?"comment":"string"}}return{startState:function(){return{tokenize:e}},token:function(g,f){return f.tokenize(g,f)}}});CodeMirror.defineMode("lua",function(e,g){var i=e.indentUnit;function b(p){return new RegExp("^(?:"+p.join("|")+")","i")}function f(p){return new RegExp("^(?:"+p.join("|")+")$","i")}var l=f(g.specials||[]);var a=f(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]);var h=f(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]);var o=f(["function","if","repeat","for","while","\\(","{"]);var m=f(["end","until","\\)","}"]);var c=b(["end","until","\\)","}","else","elseif"]);function d(p){var q=0;while(p.eat("=")){++q}p.eat("[");return q}function k(r,q){var p=r.next();if(p=="-"&&r.eat("-")){if(r.eat("[")){return(q.cur=n(d(r),"comment"))(r,q)}r.skipToEnd();return"comment"}if(p=='"'||p=="'"){return(q.cur=j(p))(r,q)}if(p=="["&&/[\[=]/.test(r.peek())){return(q.cur=n(d(r),"string"))(r,q)}if(/\d/.test(p)){r.eatWhile(/[\w.%]/);return"number"}if(/[\w_]/.test(p)){r.eatWhile(/[\w\\\-_.]/);return"variable"}return null}function n(q,p){return function(u,t){var r=null,s;while((s=u.next())!=null){if(r==null){if(s=="]"){r=0}}else{if(s=="="){++r}else{if(s=="]"&&r==q){t.cur=k;break}else{r=null}}}}return p}}function j(p){return function(t,r){var s=false,q;while((q=t.next())!=null){if(q==p&&!s){break}s=!s&&q=="\\"}if(!s){r.cur=k}return"string"}}return{startState:function(p){return{basecol:p||0,indentDepth:0,cur:k}},token:function(s,q){if(s.eatSpace()){return null}var p=q.cur(s,q);var r=s.current();if(p=="variable"){if(h.test(r)){p="keyword"}else{if(a.test(r)){p="builtin"}else{if(l.test(r)){p="variable-2"}}}}if((p!="lua-comment")&&(p!="lua-string")){if(o.test(r)){++q.indentDepth}else{if(m.test(r)){--q.indentDepth}}}return p},indent:function(r,p){var q=c.test(p);return r.basecol+i*(r.indentDepth-(q?1:0))}}});CodeMirror.defineMIME("text/x-lua","lua");CodeMirror.defineMode("scheme",function(r,h){var k="builtin",o="comment",g="string",b="atom",j="number",e="bracket",f="keyword";var m=2,d=1;function q(v){var t={},u=v.split(" ");for(var s=0;s<u.length;++s){t[u[s]]=true}return t}var c=q("λ case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?");var n=q("define let letrec let* lambda");function a(s,t,u){this.indent=s;this.type=t;this.prev=u}function p(u,s,t){u.indentStack=new a(s,t,u.indentStack)}function l(s){s.indentStack=s.indentStack.prev}function i(s,t){if(/[0-9]/.exec(s)!=null){t.eatWhile(/[0-9]/);t.eat(/\//);t.eatWhile(/[0-9]/);if(t.eol()||!(/[a-zA-Z\-\_\/]/.exec(t.peek()))){return true}t.backUp(t.current().length-1)}return false}return{startState:function(){return{indentStack:null,indentation:0,mode:false,sExprComment:false}},token:function(A,u){if(u.indentStack==null&&A.sol()){u.indentation=A.indentation()}if(A.eatSpace()){return null}var x=null;switch(u.mode){case"string":var v,t=false;while((v=A.next())!=null){if(v=='"'&&!t){u.mode=false;break}t=!t&&v=="\\"}x=g;break;case"comment":var v,y=false;while((v=A.next())!=null){if(v=="#"&&y){u.mode=false;break}y=(v=="|")}x=o;break;case"s-expr-comment":u.mode=false;if(A.peek()=="("||A.peek()=="["){u.sExprComment=0}else{A.eatWhile(/[^/s]/);x=o;break}default:var s=A.next();if(s=='"'){u.mode="string";x=g}else{if(s=="'"){x=b}else{if(s=="#"){if(A.eat("|")){u.mode="comment";x=o}else{if(A.eat(/[tf]/)){x=b}else{if(A.eat(";")){u.mode="s-expr-comment";x=o}}}}else{if(s==";"){A.skipToEnd();x=o}else{if(s=="-"){if(!isNaN(parseInt(A.peek()))){A.eatWhile(/[\/0-9]/);x=j}else{x=null}}else{if(i(s,A)){x=j}else{if(s=="("||s=="["){var z="";var w=A.column();while((letter=A.eat(/[^\s\(\[\;\)\]]/))!=null){z+=letter}if(z.length>0&&n.propertyIsEnumerable(z)){p(u,w+m,s)}else{A.eatSpace();if(A.eol()||A.peek()==";"){p(u,w+1,s)}else{p(u,w+A.current().length,s)}}A.backUp(A.current().length-1);if(typeof u.sExprComment=="number"){u.sExprComment++}x=e}else{if(s==")"||s=="]"){x=e;if(u.indentStack!=null&&u.indentStack.type==(s==")"?"(":"[")){l(u);if(typeof u.sExprComment=="number"){if(--u.sExprComment==0){x=o;u.sExprComment=false}}}}else{A.eatWhile(/[\w\$_\-]/);if(c&&c.propertyIsEnumerable(A.current())){x=k}else{x=null}}}}}}}}}}return(typeof u.sExprComment=="number")?o:x},indent:function(t,s){if(t.indentStack==null){return t.indentation}return t.indentStack.indent}}});CodeMirror.defineMIME("text/x-scheme","scheme");CodeMirror.defineMode("r",function(d){function a(p){var o=p.split(" "),n={};for(var m=0;m<o.length;++m){n[o[m]]=true}return n}var h=a("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_");var b=a("list quote bquote eval return call parse deparse");var g=a("if else repeat while function for in next break");var f=a("if else repeat while function for");var c=/[+\-*\/^<>=!&|~$:]/;var j;function e(p,n){j=null;var m=p.next();if(m=="#"){p.skipToEnd();return"comment"}else{if(m=="0"&&p.eat("x")){p.eatWhile(/[\da-f]/i);return"number"}else{if(m=="."&&p.eat(/\d/)){p.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else{if(/\d/.test(m)){p.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else{if(m=="'"||m=='"'){n.tokenize=k(m);return"string"}else{if(m=="."&&p.match(/.[.\d]+/)){return"keyword"}else{if(/[\w\.]/.test(m)&&m!="_"){p.eatWhile(/[\w\.]/);var o=p.current();if(h.propertyIsEnumerable(o)){return"atom"}if(g.propertyIsEnumerable(o)){if(f.propertyIsEnumerable(o)){j="block"}return"keyword"}if(b.propertyIsEnumerable(o)){return"builtin"}return"variable"}else{if(m=="%"){if(p.skipTo("%")){p.next()}return"variable-2"}else{if(m=="<"&&p.eat("-")){return"arrow"}else{if(m=="="&&n.ctx.argList){return"arg-is"}else{if(c.test(m)){if(m=="$"){return"dollar"}p.eatWhile(c);return"operator"}else{if(/[\(\){}\[\];]/.test(m)){j=m;if(m==";"){return"semi"}return null}else{return null}}}}}}}}}}}}}function k(m){return function(q,p){if(q.eat("\\")){var o=q.next();if(o=="x"){q.match(/^[a-f0-9]{2}/i)}else{if((o=="u"||o=="U")&&q.eat("{")&&q.skipTo("}")){q.next()}else{if(o=="u"){q.match(/^[a-f0-9]{4}/i)}else{if(o=="U"){q.match(/^[a-f0-9]{8}/i)}else{if(/[0-7]/.test(o)){q.match(/^[0-7]{1,2}/)}}}}}return"string-2"}else{var n;while((n=q.next())!=null){if(n==m){p.tokenize=e;break}if(n=="\\"){q.backUp(1);break}}return"string"}}}function i(n,m,o){n.ctx={type:m,indent:n.indent,align:null,column:o.column(),prev:n.ctx}}function l(m){m.indent=m.ctx.indent;m.ctx=m.ctx.prev}return{startState:function(m){return{tokenize:e,ctx:{type:"top",indent:-d.indentUnit,align:false},indent:0,afterIdent:false}},token:function(p,o){if(p.sol()){if(o.ctx.align==null){o.ctx.align=false}o.indent=p.indentation()}if(p.eatSpace()){return null}var n=o.tokenize(p,o);if(n!="comment"&&o.ctx.align==null){o.ctx.align=true}var m=o.ctx.type;if((j==";"||j=="{"||j=="}")&&m=="block"){l(o)}if(j=="{"){i(o,"}",p)}else{if(j=="("){i(o,")",p);if(o.afterIdent){o.ctx.argList=true}}else{if(j=="["){i(o,"]",p)}else{if(j=="block"){i(o,"block",p)}else{if(j==m){l(o)}}}}}o.afterIdent=n=="variable"||n=="keyword";return n},indent:function(q,n){if(q.tokenize!=e){return 0}var p=n&&n.charAt(0),m=q.ctx,o=p==m.type;if(m.type=="block"){return m.indent+(p=="{"?0:d.indentUnit)}else{if(m.align){return m.column+(o?0:1)}else{return m.indent+(o?0:d.indentUnit)}}}}});CodeMirror.defineMIME("text/x-rsrc","r");CodeMirror.defineMode("rst",function(C,f){function t(G,F,E){G.fn=F;v(G,E)}function v(F,E){F.ctx=E||{}}function u(F,E){if(E&&(typeof E!=="string")){var G=E.current();E=G[G.length-1]}t(F,D,{back:E})}function k(G){if(G){var F=CodeMirror.listModes();for(var E in F){if(F[E]==G){return true}}}return false}function c(E){if(k(E)){return CodeMirror.getMode(C,E)}else{return null}}var y=c(f.verbatim);var q=c("python");var s=/^[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~]/;var h=/^\s*\w([-:.\w]*\w)?::(\s|$)/;var a=/^\s*_[\w-]+:(\s|$)/;var i=/^\s*\[(\d+|#)\](\s|$)/;var A=/^\s*\[[A-Za-z][\w-]*\](\s|$)/;var z=/^\[(\d+|#)\]_/;var j=/^\[[A-Za-z][\w-]*\]_/;var w=/^\.\.(\s|$)/;var p=/^::\s*$/;var d=/^[-\s"([{</:]/;var g=/^[-\s`'")\]}>/:.,;!?\\_]/;var r=/^\s*((\d+|[A-Za-z#])[.)]|\((\d+|[A-Z-a-z#])\))\s/;var x=/^\s*[-\+\*]\s/;var m=/^\s+(>>>|In \[\d+\]:)\s/;function D(P,F){var E,N,J;if(P.eat(/\\/)){E=P.next();u(F,E);return null}N=P.sol();if(N&&(E=P.eat(s))){for(J=0;P.eat(E);J++){}if(J>=3&&P.match(/^\s*$/)){u(F,null);return"section"}else{P.backUp(J+1)}}if(N&&P.match(w)){if(!P.eol()){t(F,o)}return"directive-marker"}if(P.match(p)){if(!y){t(F,B)}else{var K=y;t(F,B,{mode:K,local:K.startState()})}return"verbatim-marker"}if(N&&P.match(m,false)){if(!q){t(F,B);return"verbatim-marker"}else{var K=q;t(F,B,{mode:K,local:K.startState()});return null}}if(N&&(P.match(r)||P.match(x))){u(F,P);return"list"}function M(Q){return N||!F.ctx.back||Q.test(F.ctx.back)}function G(Q){return P.eol()||P.match(Q,false)}function I(Q){return P.match(Q)&&M(/\W/)&&G(/\W/)}if(I(z)){u(F,P);return"footnote"}if(I(j)){u(F,P);return"citation"}E=P.next();if(M(d)){if((E===":"||E==="|")&&P.eat(/\S/)){var H;if(E===":"){H="role"}else{H="replacement"}t(F,e,{ch:E,wide:false,prev:null,token:H});return H}if(E==="*"||E==="`"){var O=E,L=false;E=P.next();if(E==O){L=true;E=P.next()}if(E&&!/\s/.test(E)){var H;if(O==="*"){H=L?"strong":"emphasis"}else{H=L?"inline":"interpreted"}t(F,e,{ch:O,wide:L,prev:null,token:H});return H}}}u(F,E);return null}function e(I,H){var G=I.next(),F=H.ctx.token;function E(J){H.ctx.prev=J;return F}if(G!=H.ctx.ch){return E(G)}if(/\s/.test(H.ctx.prev)){return E(G)}if(H.ctx.wide){G=I.next();if(G!=H.ctx.ch){return E(G)}}if(!I.eol()&&!g.test(I.peek())){if(H.ctx.wide){I.backUp(1)}return E(G)}t(H,D);u(H,G);return F}function o(G,F){var E=null;if(G.match(h)){E="directive"}else{if(G.match(a)){E="hyperlink"}else{if(G.match(i)){E="footnote"}else{if(G.match(A)){E="citation"}else{G.eatSpace();if(G.eol()){u(F,G);return null}else{G.skipToEnd();t(F,b);return"comment"}}}}}t(F,n,{start:true});return E}function n(G,F){var E="body";if(!F.ctx.start||G.sol()){return l(G,F,E)}G.skipToEnd();v(F);return E}function b(F,E){return l(F,E,"comment")}function B(F,E){if(!y){return l(F,E,"verbatim")}else{if(F.sol()){if(!F.eatSpace()){u(E,F)}return null}return y.token(F,E.ctx.local)}}function l(G,F,E){if(G.eol()||G.eatSpace()){G.skipToEnd();return E}else{u(F,G);return null}}return{startState:function(){return{fn:D,ctx:{}}},copyState:function(E){return{fn:E.fn,ctx:E.ctx}},token:function(G,F){var E=F.fn(G,F);return E}}});CodeMirror.defineMIME("text/x-rst","rst");CodeMirror.defineMode("markdown",function(y,k){var g=CodeMirror.getMode(y,{name:"xml",htmlMode:true});var u="header",b="code",x="quote",w="list",B="hr",p="linktext",A="linkhref",e="em",h="strong",s="emstrong";var C=/^[*-=_]/,m=/^[*-+]\s+/,q=/^[0-9]\.\s+/,l=/^(?:\={3,}|-{3,})$/,v=/^(k:\t|\s{4,})/,d=/^[^\[*_\\<>`]+/;function c(F,E,D){E.f=E.inline=D;return D(F,E)}function o(F,E,D){E.f=E.block=D;return D(F,E)}function j(G,F){if(G.match(v)){G.skipToEnd();return b}if(G.eatSpace()){return null}if(G.peek()==="#"||G.match(l)){G.skipToEnd();return u}if(G.eat(">")){F.indentation++;return x}if(G.peek()==="<"){return o(G,F,t)}if(G.peek()==="["){return c(G,F,i)}if(C.test(G.peek())){var E=new RegExp("(?:s*["+G.peek()+"]){3,}$");if(G.match(E,true)){return B}}var D;if(D=G.match(m,true)||G.match(q,true)){F.indentation+=D[0].length;return w}return c(G,F,F.inline)}function t(F,E){var D=g.token(F,E.htmlState);if(F.eol()&&!E.htmlState.context){E.block=j}return D}function n(H,F){function G(){return F.strong?(F.em?s:h):(F.em?e:null)}if(H.match(d,true)){return G()}var E=H.next();if(E==="\\"){H.next();return G()}if(E==="`"){return c(H,F,r(b,"`"))}if(E==="<"){return c(H,F,r(p,">"))}if(E==="["){return c(H,F,z)}var D=G();if(E==="*"||E==="_"){if(H.eat(E)){return(F.strong=!F.strong)?G():D}return(F.em=!F.em)?G():D}return G()}function z(F,E){while(!F.eol()){var D=F.next();if(D==="\\"){F.next()}if(D==="]"){E.inline=E.f=f;return p}}return p}function f(F,E){F.eatSpace();var D=F.next();if(D==="("||D==="["){return c(F,E,r(A,D==="("?")":"]"))}return"error"}function i(E,D){if(E.match(/^[^\]]*\]:/,true)){D.f=a;return p}return c(E,D,n)}function a(E,D){E.eatSpace();E.match(/^[^\s]+/,true);D.f=D.inline=n;return A}function r(E,F,D){D=D||n;return function(I,H){while(!I.eol()){var G=I.next();if(G==="\\"){I.next()}if(G===F){H.inline=H.f=D;return E}}return E}}return{startState:function(){return{f:j,block:j,htmlState:g.startState(),indentation:0,inline:n,em:false,strong:false}},copyState:function(D){return{f:D.f,block:D.block,htmlState:CodeMirror.copyState(g,D.htmlState),indentation:D.indentation,inline:D.inline,em:D.em,strong:D.strong}},token:function(G,F){if(G.sol()){F.f=F.block;var E=F.indentation,D=0;while(E>0){if(G.eat(" ")){E--;D++}else{if(E>=4&&G.eat("\t")){E-=4;D+=4}else{break}}}F.indentation=D;if(D>0){return null}}return F.f(G,F)}}});CodeMirror.defineMIME("text/x-markdown","markdown");CodeMirror.defineMode("sparql",function(b){var e=b.indentUnit;var j;function g(l){return new RegExp("^(?:"+l.join("|")+")$","i")}var a=g(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","isblank","isliteral","union","a"]);var d=g(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc"]);var f=/[*+\-<>=&|]/;function c(p,n){var m=p.next();j=null;if(m=="$"||m=="?"){p.match(/^[\w\d]*/);return"variable-2"}else{if(m=="<"&&!p.match(/^[\s\u00a0=]/,false)){p.match(/^[^\s\u00a0>]*>?/);return"atom"}else{if(m=='"'||m=="'"){n.tokenize=k(m);return n.tokenize(p,n)}else{if(/[{}\(\),\.;\[\]]/.test(m)){j=m;return null}else{if(m=="#"){p.skipToEnd();return"comment"}else{if(f.test(m)){p.eatWhile(f);return null}else{if(m==":"){p.eatWhile(/[\w\d\._\-]/);return"atom"}else{p.eatWhile(/[_\w\d]/);if(p.eat(":")){p.eatWhile(/[\w\d_\-]/);return"atom"}var o=p.current(),l;if(a.test(o)){return null}else{if(d.test(o)){return"keyword"}else{return"variable"}}}}}}}}}}function k(l){return function(p,n){var o=false,m;while((m=p.next())!=null){if(m==l&&!o){n.tokenize=c;break}o=!o&&m=="\\"}return"string"}}function h(n,m,l){n.context={prev:n.context,indent:n.indent,col:l,type:m}}function i(l){l.indent=l.context.indent;l.context=l.context.prev}return{startState:function(l){return{tokenize:c,context:null,indent:0,col:0}},token:function(n,m){if(n.sol()){if(m.context&&m.context.align==null){m.context.align=false}m.indent=n.indentation()}if(n.eatSpace()){return null}var l=m.tokenize(n,m);if(l!="comment"&&m.context&&m.context.align==null&&m.context.type!="pattern"){m.context.align=true}if(j=="("){h(m,")",n.column())}else{if(j=="["){h(m,"]",n.column())}else{if(j=="{"){h(m,"}",n.column())}else{if(/[\]\}\)]/.test(j)){while(m.context&&m.context.type=="pattern"){i(m)}if(m.context&&j==m.context.type){i(m)}}else{if(j=="."&&m.context&&m.context.type=="pattern"){i(m)}else{if(/atom|string|variable/.test(l)&&m.context){if(/[\}\]]/.test(m.context.type)){h(m,"pattern",n.column())}else{if(m.context.type=="pattern"&&!m.context.align){m.context.align=true;m.context.col=n.column()}}}}}}}}return l},indent:function(p,l){var o=l&&l.charAt(0);var n=p.context;if(/[\]\}]/.test(o)){while(n&&n.type=="pattern"){n=n.prev}}var m=n&&o==n.type;if(!n){return 0}else{if(n.type=="pattern"){return n.col}else{if(n.align){return n.col+(m?0:1)}else{return n.indent+(m?0:e)}}}}}});CodeMirror.defineMIME("application/x-sparql-query","sparql");CodeMirror.defineMode("haskell",function(h,k){function l(s,t,r){t(r);return r(s,t)}var d=/[a-z_]/;var p=/[A-Z]/;var m=/[0-9]/;var c=/[0-9A-Fa-f]/;var q=/[0-7]/;var o=/[a-z_A-Z0-9']/;var n=/[-!#$%&*+.\/<=>?@\\^|~:]/;var e=/[(),;[\]`{}]/;var g=/[ \t\v\f]/;function i(u,v){if(u.eatWhile(g)){return null}var s=u.next();if(e.test(s)){if(s=="{"&&u.eat("-")){var r="comment";if(u.eat("#")){r="meta"}return l(u,v,j(r,1))}return null}if(s=="'"){if(u.eat("\\")){u.next()}else{u.next()}if(u.eat("'")){return"string"}return"error"}if(s=='"'){return l(u,v,f)}if(p.test(s)){u.eatWhile(o);if(u.eat(".")){return"qualifier"}return"variable-2"}if(d.test(s)){u.eatWhile(o);return"variable"}if(m.test(s)){if(s=="0"){if(u.eat(/[xX]/)){u.eatWhile(c);return"integer"}if(u.eat(/[oO]/)){u.eatWhile(q);return"number"}}u.eatWhile(m);var r="number";if(u.eat(".")){r="number";u.eatWhile(m)}if(u.eat(/[eE]/)){r="number";u.eat(/[-+]/);u.eatWhile(m)}return r}if(n.test(s)){if(s=="-"&&u.eat(/-/)){u.eatWhile(/-/);if(!u.eat(n)){u.skipToEnd();return"comment"}}var r="variable";if(s==":"){r="variable-2"}u.eatWhile(n);return r}return"error"}function j(r,s){if(s==0){return i}return function(v,w){var t=s;while(!v.eol()){var u=v.next();if(u=="{"&&v.eat("-")){++t}else{if(u=="-"&&v.eat("}")){--t;if(t==0){w(i);return r}}}}w(j(r,t));return r}}function f(s,t){while(!s.eol()){var r=s.next();if(r=='"'){t(i);return"string"}if(r=="\\"){if(s.eol()||s.eat(g)){t(b);return"string"}if(s.eat("&")){}else{s.next()}}}t(i);return"error"}function b(r,s){if(r.eat("\\")){return l(r,s,f)}r.next();s(i);return"error"}var a=(function(){var r={};function s(u){return function(){for(var t=0;t<arguments.length;t++){r[arguments[t]]=u}}}s("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_");s("keyword")("..",":","::","=","\\",'"',"<-","->","@","~","=>");s("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**");s("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True");s("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");return r})();return{startState:function(){return{f:i}},copyState:function(r){return{f:r.f}},token:function(v,u){var s=u.f(v,function(t){u.f=t});var r=v.current();return(r in a)?a[r]:s}}});CodeMirror.defineMIME("text/x-haskell","haskell");CodeMirror.defineMode("ntriples",function(){Location={PRE_SUBJECT:0,WRITING_SUB_URI:1,WRITING_BNODE_URI:2,PRE_PRED:3,WRITING_PRED_URI:4,PRE_OBJ:5,WRITING_OBJ_URI:6,WRITING_OBJ_BNODE:7,WRITING_OBJ_LITERAL:8,WRITING_LIT_LANG:9,WRITING_LIT_TYPE:10,POST_OBJ:11,ERROR:12};function a(d,f){var b=d.location;var e;if(b==Location.PRE_SUBJECT&&f=="<"){e=Location.WRITING_SUB_URI}else{if(b==Location.PRE_SUBJECT&&f=="_"){e=Location.WRITING_BNODE_URI}else{if(b==Location.PRE_PRED&&f=="<"){e=Location.WRITING_PRED_URI}else{if(b==Location.PRE_OBJ&&f=="<"){e=Location.WRITING_OBJ_URI}else{if(b==Location.PRE_OBJ&&f=="_"){e=Location.WRITING_OBJ_BNODE}else{if(b==Location.PRE_OBJ&&f=='"'){e=Location.WRITING_OBJ_LITERAL}else{if(b==Location.WRITING_SUB_URI&&f==">"){e=Location.PRE_PRED}else{if(b==Location.WRITING_BNODE_URI&&f==" "){e=Location.PRE_PRED}else{if(b==Location.WRITING_PRED_URI&&f==">"){e=Location.PRE_OBJ}else{if(b==Location.WRITING_OBJ_URI&&f==">"){e=Location.POST_OBJ}else{if(b==Location.WRITING_OBJ_BNODE&&f==" "){e=Location.POST_OBJ}else{if(b==Location.WRITING_OBJ_LITERAL&&f=='"'){e=Location.POST_OBJ}else{if(b==Location.WRITING_LIT_LANG&&f==" "){e=Location.POST_OBJ}else{if(b==Location.WRITING_LIT_TYPE&&f==">"){e=Location.POST_OBJ}else{if(b==Location.WRITING_OBJ_LITERAL&&f=="@"){e=Location.WRITING_LIT_LANG}else{if(b==Location.WRITING_OBJ_LITERAL&&f=="^"){e=Location.WRITING_LIT_TYPE}else{if(f==" "&&(b==Location.PRE_SUBJECT||b==Location.PRE_PRED||b==Location.PRE_OBJ||b==Location.POST_OBJ)){e=b}else{if(b==Location.POST_OBJ&&f=="."){e=Location.PRE_SUBJECT}else{e=Location.ERROR}}}}}}}}}}}}}}}}}}d.location=e}untilSpace=function(b){return b!=" "};untilEndURI=function(b){return b!=">"};return{startState:function(){return{location:Location.PRE_SUBJECT,uris:[],anchors:[],bnodes:[],langs:[],types:[]}},token:function(g,f){var d=g.next();if(d=="<"){a(f,d);var i="";g.eatWhile(function(j){if(j!="#"&&j!=">"){i+=j;return true}return false});f.uris.push(i);if(g.match("#",false)){return"variable"}g.next();a(f,">");return"variable"}if(d=="#"){var h="";g.eatWhile(function(j){if(j!=">"&&j!=" "){h+=j;return true}return false});f.anchors.push(h);return"variable-2"}if(d==">"){a(f,">");return"variable"}if(d=="_"){a(f,d);var c="";g.eatWhile(function(j){if(j!=" "){c+=j;return true}return false});f.bnodes.push(c);g.next();a(f," ");return"builtin"}if(d=='"'){a(f,d);g.eatWhile(function(j){return j!='"'});g.next();if(g.peek()!="@"&&g.peek()!="^"){a(f,'"')}return"string"}if(d=="@"){a(f,"@");var b="";g.eatWhile(function(j){if(j!=" "){b+=j;return true}return false});f.langs.push(b);g.next();a(f," ");return"string-2"}if(d=="^"){g.next();a(f,"^");var e="";g.eatWhile(function(j){if(j!=">"){e+=j;return true}return false});f.types.push(e);g.next();a(f,">");return"variable"}if(d==" "){a(f,d)}if(d=="."){a(f,d)}}}});CodeMirror.defineMIME("text/n-triples","ntriples");CodeMirror.defineMode("css",function(e){var d=e.indentUnit,f;function c(i,j){f=j;return i}function h(k,j){var i=k.next();if(i=="@"){k.eatWhile(/[\w\\\-]/);return c("meta",k.current())}else{if(i=="/"&&k.eat("*")){j.tokenize=a;return a(k,j)}else{if(i=="<"&&k.eat("!")){j.tokenize=b;return b(k,j)}else{if(i=="="){c(null,"compare")}else{if((i=="~"||i=="|")&&k.eat("=")){return c(null,"compare")}else{if(i=='"'||i=="'"){j.tokenize=g(i);return j.tokenize(k,j)}else{if(i=="#"){k.eatWhile(/[\w\\\-]/);return c("atom","hash")}else{if(i=="!"){k.match(/^\s*\w*/);return c("keyword","important")}else{if(/\d/.test(i)){k.eatWhile(/[\w.%]/);return c("number","unit")}else{if(/[,.+>*\/]/.test(i)){return c(null,"select-op")}else{if(/[;{}:\[\]]/.test(i)){return c(null,i)}else{k.eatWhile(/[\w\\\-]/);return c("variable","variable")}}}}}}}}}}}}function a(l,k){var i=false,j;while((j=l.next())!=null){if(i&&j=="/"){k.tokenize=h;break}i=(j=="*")}return c("comment","comment")}function b(l,k){var j=0,i;while((i=l.next())!=null){if(j>=2&&i==">"){k.tokenize=h;break}j=(i=="-")?j+1:0}return c("comment","comment")}function g(i){return function(m,k){var l=false,j;while((j=m.next())!=null){if(j==i&&!l){break}l=!l&&j=="\\"}if(!l){k.tokenize=h}return c("string","string")}}return{startState:function(i){return{tokenize:h,baseIndent:i||0,stack:[]}},token:function(l,k){if(l.eatSpace()){return null}var j=k.tokenize(l,k);var i=k.stack[k.stack.length-1];if(f=="hash"&&i=="rule"){j="atom"}else{if(j=="variable"){if(i=="rule"){j="number"}else{if(!i||i=="@media{"){j="tag"}}}}if(i=="rule"&&/^[\{\};]$/.test(f)){k.stack.pop()}if(f=="{"){if(i=="@media"){k.stack[k.stack.length-1]="@media{"}else{k.stack.push("{")}}else{if(f=="}"){k.stack.pop()}else{if(f=="@media"){k.stack.push("@media")}else{if(i=="{"&&f!="comment"){k.stack.push("rule")}}}}return j},indent:function(j,i){var k=j.stack.length;if(/^\}/.test(i)){k-=j.stack[j.stack.length-1]=="rule"?2:1}return j.baseIndent+k*d},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("clojure",function(u,k){var o="builtin",r="comment",j="string",a="tag",e="atom",n="number",h="bracket",i="keyword";var p=2,g=1;function t(y){var w={},x=y.split(" ");for(var v=0;v<x.length;++v){w[x[v]]=true}return w}var b=t("true false nil");var f=t("defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle* *1 *2 *3 *agent* *allow-unresolved-vars* *assert *clojure-version* *command-line-args* *compile-files* *compile-path* *e *err* *file* *flush-on-newline* *in* *macro-meta* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *use-context-classloader* *warn-on-reflection* + - / < <= = == > >= accessor aclone agent agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* butlast byte byte-array bytes case cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec decimal? declare definline defmacro defmethod defmulti defn defn- defonce defstruct delay delay? deliver deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall doc dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while empty empty? ensure enumeration-seq eval even? every? extend extend-protocol extend-type extends? extenders false? ffirst file-seq filter find find-doc find-ns find-var first float float-array float? floats flush fn fn? fnext for force format future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator hash hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map? mapcat max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod name namespace neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext num number? odd? or parents partial partition pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-doc print-dup print-method print-namespace-doc print-simple print-special-doc print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reify reduce ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure release-pending-sends rem remove remove-method remove-ns repeat repeatedly replace replicate require reset! reset-meta! resolve rest resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-validator! set? short short-array shorts shutdown-agents slurp some sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-form-anchor special-symbol? split-at split-with str stream? string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync syntax-symbol-anchor take take-last take-nth take-while test the-ns time to-array to-array-2d trampoline transient tree-seq true? type unchecked-add unchecked-dec unchecked-divide unchecked-inc unchecked-multiply unchecked-negate unchecked-remainder unchecked-subtract underive unquote unquote-splicing update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector? when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision xml-seq");var q=t("ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catchlet letfn binding loop for doseq dotimes when-let if-letdefstruct struct-map assoctesting deftesthandler-case handle dotrace deftrace");var d={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-fA-F]/,sign:/[+-]/,exponent:/[eE]/,keyword_char:/[^\s\(\[\;\)\]]/,basic:/[\w\$_\-]/,lang_keyword:/[\w*+!\-_?:\/]/};function c(v,w,x){this.indent=v;this.type=w;this.prev=x}function s(x,v,w){x.indentStack=new c(v,w,x.indentStack)}function m(v){v.indentStack=v.indentStack.prev}function l(v,w){if(v==="0"&&"x"==w.peek().toLowerCase()){w.eat("x");w.eatWhile(d.hex);return true}if(v=="+"||v=="-"){w.eat(d.sign);v=w.next()}if(d.digit.test(v)){w.eat(v);w.eatWhile(d.digit);if("."==w.peek()){w.eat(".");w.eatWhile(d.digit)}if("e"==w.peek().toLowerCase()){w.eat(d.exponent);w.eat(d.sign);w.eatWhile(d.digit)}return true}return false}return{startState:function(){return{indentStack:null,indentation:0,mode:false,}},token:function(A,y){if(y.indentStack==null&&A.sol()){y.indentation=A.indentation()}if(A.eatSpace()){return null}var v=null;switch(y.mode){case"string":var x,z=false;while((x=A.next())!=null){if(x=='"'&&!z){y.mode=false;break}z=!z&&x=="\\"}v=j;break;default:var w=A.next();if(w=='"'){y.mode="string";v=j}else{if(w=="'"&&!(d.digit_or_colon.test(A.peek()))){v=e}else{if(w==";"){A.skipToEnd();v=r}else{if(l(w,A)){v=n}else{if(w=="("||w=="["){var C="";var B=A.column();while((letter=A.eat(d.keyword_char))!=null){C+=letter}if(C.length>0&&q.propertyIsEnumerable(C)){s(y,B+p,w)}else{A.eatSpace();if(A.eol()||A.peek()==";"){s(y,B+1,w)}else{s(y,B+A.current().length,w)}}A.backUp(A.current().length-1);v=h}else{if(w==")"||w=="]"){v=h;if(y.indentStack!=null&&y.indentStack.type==(w==")"?"(":"[")){m(y)}}else{if(w==":"){A.eatWhile(d.lang_keyword);return a}else{A.eatWhile(d.basic);if(f&&f.propertyIsEnumerable(A.current())){v=o}else{if(b&&b.propertyIsEnumerable(A.current())){v=e}else{v=null}}}}}}}}}}return v},indent:function(w,v){if(w.indentStack==null){return w.indentation}return w.indentStack.indent}}});CodeMirror.defineMIME("text/x-clojure","clojure");CodeMirror.defineMode("javascript",function(H,L){var v=H.indentUnit;var P=L.json;var b=function(){function V(Y){return{type:Y,style:"keyword"}}var S=V("keyword a"),X=V("keyword b"),W=V("keyword c");var T=V("operator"),U={type:"atom",style:"atom"};return{"if":S,"while":S,"with":S,"else":X,"do":X,"try":X,"finally":X,"return":W,"break":W,"continue":W,"new":W,"delete":W,"throw":W,"var":V("var"),"function":V("function"),"catch":V("catch"),"for":V("for"),"switch":V("switch"),"case":V("case"),"default":V("default"),"in":T,"typeof":T,"instanceof":T,"true":U,"false":U,"null":U,"undefined":U,"NaN":U,"Infinity":U}}();var M=/[+\-*&%=<>!?|]/;function Q(U,T,S){T.tokenize=S;return S(U,T)}function h(V,S){var U=false,T;while((T=V.next())!=null){if(T==S&&!U){return false}U=!U&&T=="\\"}return U}var R,p;function A(U,T,S){R=U;p=S;return T}function l(W,U){var S=W.next();if(S=='"'||S=="'"){return Q(W,U,z(S))}else{if(/[\[\]{}\(\),;\:\.]/.test(S)){return A(S)}else{if(S=="0"&&W.eat(/x/i)){W.eatWhile(/[\da-f]/i);return A("number","number")}else{if(/\d/.test(S)){W.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/);return A("number","number")}else{if(S=="/"){if(W.eat("*")){return Q(W,U,f)}else{if(W.eat("/")){W.skipToEnd();return A("comment","comment")}else{if(U.reAllowed){h(W,"/");W.eatWhile(/[gimy]/);return A("regexp","string")}else{W.eatWhile(M);return A("operator",null,W.current())}}}}else{if(S=="#"){W.skipToEnd();return A("error","error")}else{if(M.test(S)){W.eatWhile(M);return A("operator",null,W.current())}else{W.eatWhile(/[\w\$_]/);var V=W.current(),T=b.propertyIsEnumerable(V)&&b[V];return T?A(T.type,T.style,V):A("variable","variable",V)}}}}}}}}function z(S){return function(U,T){if(!h(U,S)){T.tokenize=l}return A("string","string")}}function f(V,U){var S=false,T;while(T=V.next()){if(T=="/"&&S){U.tokenize=l;break}S=(T=="*")}return A("comment","comment")}var k={atom:true,number:true,variable:true,string:true,regexp:true};function t(X,T,S,W,U,V){this.indented=X;this.column=T;this.type=S;this.prev=U;this.info=V;if(W!=null){this.align=W}}function w(U,T){for(var S=U.localVars;S;S=S.next){if(S.name==T){return true}}}function D(W,T,S,V,X){var Y=W.cc;u.state=W;u.stream=X;u.marked=null,u.cc=Y;if(!W.lexical.hasOwnProperty("align")){W.lexical.align=true}while(true){var U=Y.length?Y.pop():P?x:y;if(U(S,V)){while(Y.length&&Y[Y.length-1].lex){Y.pop()()}if(u.marked){return u.marked}if(S=="variable"&&w(W,V)){return"variable-2"}return T}}}var u={state:null,column:null,marked:null,cc:null};function a(){for(var S=arguments.length-1;S>=0;S--){u.cc.push(arguments[S])}}function F(){a.apply(null,arguments);return true}function m(T){var U=u.state;if(U.context){u.marked="def";for(var S=U.localVars;S;S=S.next){if(S.name==T){return}}U.localVars={name:T,next:U.localVars}}}var C={name:"this",next:{name:"arguments"}};function s(){if(!u.state.context){u.state.localVars=C}u.state.context={prev:u.state.context,vars:u.state.localVars}}function r(){u.state.localVars=u.state.context.vars;u.state.context=u.state.context.prev}function j(T,U){var S=function(){var V=u.state;V.lexical=new t(V.indented,u.stream.column(),T,null,V.lexical,U)};S.lex=true;return S}function E(){var S=u.state;if(S.lexical.prev){if(S.lexical.type==")"){S.indented=S.lexical.indented}S.lexical=S.lexical.prev}}E.lex=true;function c(T){return function S(U){if(U==T){return F()}else{if(T==";"){return a()}else{return F(arguments.callee)}}}}function y(S){if(S=="var"){return F(j("vardef"),I,c(";"),E)}if(S=="keyword a"){return F(j("form"),x,y,E)}if(S=="keyword b"){return F(j("form"),y,E)}if(S=="{"){return F(j("}"),n,E)}if(S==";"){return F()}if(S=="function"){return F(i)}if(S=="for"){return F(j("form"),c("("),j(")"),g,c(")"),E,y,E)}if(S=="variable"){return F(j("stat"),B)}if(S=="switch"){return F(j("form"),x,j("}","switch"),c("{"),n,E,E)}if(S=="case"){return F(x,c(":"))}if(S=="default"){return F(c(":"))}if(S=="catch"){return F(j("form"),s,c("("),q,c(")"),y,E,r)}return a(j("stat"),x,c(";"),E)}function x(S){if(k.hasOwnProperty(S)){return F(K)}if(S=="function"){return F(i)}if(S=="keyword c"){return F(x)}if(S=="("){return F(j(")"),x,c(")"),E,K)}if(S=="operator"){return F(x)}if(S=="["){return F(j("]"),N(x,"]"),E,K)}if(S=="{"){return F(j("}"),N(o,"}"),E,K)}return F()}function K(S,T){if(S=="operator"&&/\+\+|--/.test(T)){return F(K)}if(S=="operator"){return F(x)}if(S==";"){return}if(S=="("){return F(j(")"),N(x,")"),E,K)}if(S=="."){return F(O,K)}if(S=="["){return F(j("]"),x,c("]"),E,K)}}function B(S){if(S==":"){return F(E,y)}return a(K,c(";"),E)}function O(S){if(S=="variable"){u.marked="property";return F()}}function o(S){if(S=="variable"){u.marked="property"}if(k.hasOwnProperty(S)){return F(c(":"),x)}}function N(U,S){function T(W){if(W==","){return F(U,T)}if(W==S){return F()}return F(c(S))}return function V(W){if(W==S){return F()}else{return a(U,T)}}}function n(S){if(S=="}"){return F()}return a(y,n)}function I(S,T){if(S=="variable"){m(T);return F(G)}return F()}function G(S,T){if(T=="="){return F(x,G)}if(S==","){return F(I)}}function g(S){if(S=="var"){return F(I,e)}if(S==";"){return a(e)}if(S=="variable"){return F(J)}return a(e)}function J(S,T){if(T=="in"){return F(x)}return F(K,e)}function e(S,T){if(S==";"){return F(d)}if(T=="in"){return F(x)}return F(x,c(";"),d)}function d(S){if(S!=")"){F(x)}}function i(S,T){if(S=="variable"){m(T);return F(i)}if(S=="("){return F(j(")"),s,N(q,")"),E,y,r)}}function q(S,T){if(S=="variable"){m(T);return F()}}return{startState:function(S){return{tokenize:l,reAllowed:true,cc:[],lexical:new t((S||0)-v,0,"block",false),localVars:null,context:null,indented:0}},token:function(U,T){if(U.sol()){if(!T.lexical.hasOwnProperty("align")){T.lexical.align=false}T.indented=U.indentation()}if(U.eatSpace()){return null}var S=T.tokenize(U,T);if(R=="comment"){return S}T.reAllowed=R=="operator"||R=="keyword c"||R.match(/^[\[{}\(,;:]$/);return D(T,S,R,p,U)},indent:function(X,S){if(X.tokenize!=l){return 0}var W=S&&S.charAt(0),U=X.lexical,V=U.type,T=W==V;if(V=="vardef"){return U.indented+4}else{if(V=="form"&&W=="{"){return U.indented}else{if(V=="stat"||V=="form"){return U.indented+v}else{if(U.info=="switch"&&!T){return U.indented+(/^(?:case|default)\b/.test(S)?v:2*v)}else{if(U.align){return U.column+(T?0:1)}else{return U.indented+(T?0:v)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("coffeescript",function(k){var b="error";function p(x){return new RegExp("^(("+x.join(")|(")+"))\\b")}var o=new RegExp("^[\\+\\-\\*/%&|\\^~<>!?]");var q=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]");var a=new RegExp("^((->)|(=>)|(\\+\\+)|(\\+\\=)|(\\-\\-)|(\\-\\=)|(\\*\\*)|(\\*\\=)|(\\/\\/)|(\\/\\=)|(==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//))");var i=new RegExp("^((\\.\\.)|(\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))");var t=new RegExp("^((\\.\\.\\.)|(//=)|(>>=)|(<<=)|(\\*\\*=))");var g=new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var d=p(["and","or","not","is","isnt","in","instanceof","typeof"]);var c=["for","while","loop","if","unless","else","switch","try","catch","finally","class"];var r=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","throw","when","until"];var j=p(c.concat(r));c=p(c);var l=new RegExp("^('{3}|\"{3}|['\"])");var h=new RegExp("^(/{3}|/)");var m=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"];var w=p(m);function v(D,C){if(D.sol()){var y=C.scopes[0].offset;if(D.eatSpace()){var A=D.indentation();if(A>y){return"indent"}else{if(A<y){return"dedent"}}return null}else{if(y>0){e(D,C)}}}if(D.eatSpace()){return null}var B=D.peek();if(B==="#"){D.skipToEnd();return"comment"}if(D.match(/^-?[0-9\.]/,false)){var z=false;if(D.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)){z=true}if(D.match(/^-?\d+\.\d*/)){z=true}if(D.match(/^-?\.\d+/)){z=true}if(z){return"number"}var x=false;if(D.match(/^-?0x[0-9a-f]+/i)){x=true}if(D.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)){x=true}if(D.match(/^-?0(?![\dx])/i)){x=true}if(x){return"number"}}if(D.match(l)){C.tokenize=s(D.current(),"string");return C.tokenize(D,C)}if(D.match(h)){if(D.current()!="/"||D.match(/^.*\//,false)){C.tokenize=s(D.current(),"string-2");return C.tokenize(D,C)}else{D.backUp(1)}}if(D.match(t)||D.match(i)){return"punctuation"}if(D.match(a)||D.match(o)||D.match(d)){return"operator"}if(D.match(q)){return"punctuation"}if(D.match(w)){return"atom"}if(D.match(j)){return"keyword"}if(D.match(g)){return"variable"}D.next();return b}function s(x,B){var z=new RegExp(x);var y=x.length==1;return function A(D,C){while(!D.eol()){D.eatWhile(/[^'"\/\\]/);if(D.eat("\\")){D.next();if(y&&D.eol()){return B}}else{if(D.match(z)){C.tokenize=v;return B}else{D.eat(/['"\/]/)}}}if(y){if(k.mode.singleLineStringErrors){B=b}else{C.tokenize=v}}return B}}function n(B,A,z){z=z||"coffee";var x=0;if(z==="coffee"){for(var y=0;y<A.scopes.length;y++){if(A.scopes[y].type==="coffee"){x=A.scopes[y].offset+k.indentUnit;break}}}else{x=B.column()+B.current().length}A.scopes.unshift({offset:x,type:z})}function e(B,A){if(A.scopes.length==1){return}if(A.scopes[0].type==="coffee"){var y=B.indentation();var z=-1;for(var x=0;x<A.scopes.length;++x){if(y===A.scopes[x].offset){z=x;break}}if(z===-1){return true}while(A.scopes[0].offset!==y){A.scopes.shift()}return false}else{A.scopes.shift();return false}}function u(B,z){var y=z.tokenize(B,z);var A=B.current();if(A==="."){y=z.tokenize(B,z);A=B.current();if(y==="variable"){return"variable"}else{return b}}if(A==="@"){y=z.tokenize(B,z);A=B.current();if(y==="variable"){return"variable-2"}else{return b}}if(A==="return"){z.dedent+=1}if(((A==="->"||A==="=>")&&!z.lambda&&z.scopes[0].type=="coffee"&&B.peek()==="")||y==="indent"){n(B,z)}var x="[({".indexOf(A);if(x!==-1){n(B,z,"])}".slice(x,x+1))}if(c.exec(A)){n(B,z)}if(A=="then"){e(B,z)}if(y==="dedent"){if(e(B,z)){return b}}x="])}".indexOf(A);if(x!==-1){if(e(B,z)){return b}}if(z.dedent>0&&B.eol()&&z.scopes[0].type=="coffee"){if(z.scopes.length>1){z.scopes.shift()}z.dedent-=1}return y}var f={startState:function(x){return{tokenize:v,scopes:[{offset:x||0,type:"coffee"}],lastToken:null,lambda:false,dedent:0}},token:function(z,y){var x=u(z,y);y.lastToken={style:x,content:z.current()};if(z.eol()&&z.lambda){y.lambda=false}return x},indent:function(y,x){if(y.tokenize!=v){return 0}return y.scopes[0].offset}};return f});CodeMirror.defineMIME("text/x-coffeescript","coffeescript");CodeMirror.defineMode("xmlpure",function(F,l){var A="error";var b="comment";var C="comment";var y="tag";var h="attribute";var E="string";var t="atom";var c="!instruction";var p="!cdata";var z="!comment";var g="!text";var a={"!cdata":true,"!comment":true,"!text":true,"!instruction":true};var r=F.indentUnit;function u(I,H,J){H.tokenize=J;return J(I,H)}function D(J,H,I){return function(L,K){while(!L.eol()){if(L.match(H)){B(K);K.tokenize=I;break}L.next()}return J}}function k(J,H){var I=a.hasOwnProperty(H)||(J.context&&J.context.doIndent);var K={tagName:H,prev:J.context,indent:J.context?J.context.indent+r:0,lineNumber:J.lineNumber,indented:J.indented,noIndent:I};J.context=K}function B(I){if(I.context){var H=I.context;I.context=H.prev;return H}return null}function e(H){return H.sol()||H.string.charAt(H.start-1)==" "||H.string.charAt(H.start-1)=="\t"}function w(I,H){if(I.eat("<")){if(I.eat("?")){k(H,c);H.tokenize=v;return b}else{if(I.match("!--")){k(H,z);return u(I,H,D(C,"-->",w))}else{if(I.eatSpace()||I.eol()){I.skipToEnd();return A}else{H.tokenize=n;return y}}}}I.skipToEnd();return A}function n(M,L){var I=M.pos;if(M.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*/)){var K=M.string.substring(I,M.pos);k(L,K);L.tokenize=G;return y}else{if(M.match(/^\/[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*>/)){var J=M.string.substring(I+1,M.pos-1).trim();var H=B(L);L.tokenize=L.context==null?w:j;if(H==null||J!=H.tagName){return A}return y}else{L.tokenize=L.context==null?w:j;M.eatWhile(/[^>]/);M.eat(">");return A}}M.skipToEnd();return null}function G(I,H){if(I.match(/^\/>/)){B(H);H.tokenize=H.context==null?w:j;return y}else{if(I.eat(/^>/)){H.tokenize=j;return y}else{if(e(I)&&I.match(/^[a-zA-Z_:][-a-zA-Z0-9_:.]*( )*=/)){H.tokenize=o;return h}}}H.tokenize=H.context==null?w:w;I.eatWhile(/[^>]/);I.eat(">");return A}function o(J,I){var H=J.next();if(H!='"'&&H!="'"){J.skipToEnd();I.tokenize=G;return A}I.tokParams.quote=H;I.tokenize=f;return E}function f(J,I){var H="";while(!J.eol()){H=J.next();if(H==I.tokParams.quote){I.tokenize=G;return E}else{if(H=="<"){J.skipToEnd();I.tokenize=G;return A}else{if(H=="&"){H=J.next();if(H==";"){J.skipToEnd();I.tokenize=G;return A}while(!J.eol()&&H!=";"){if(H=="<"){J.skipToEnd();I.tokenize=G;return A}H=J.next()}if(J.eol()&&H!=";"){J.skipToEnd();I.tokenize=G;return A}}}}}return E}function j(I,H){if(I.eat("<")){if(I.match("?")){k(H,c);H.tokenize=v;return b}else{if(I.match("!--")){k(H,z);return u(I,H,D(C,"-->",H.context==null?w:j))}else{if(I.match("![CDATA[")){k(H,p);return u(I,H,D(t,"]]>",H.context==null?w:j))}else{if(I.eatSpace()||I.eol()){I.skipToEnd();return A}else{H.tokenize=n;return y}}}}}else{k(H,g);H.tokenize=s;return null}H.tokenize=H.context==null?w:j;I.skipToEnd();return null}function s(I,H){I.eatWhile(/[^<]/);if(!I.eol()){B(H);H.tokenize=j}return t}function v(I,H){if(I.match("xml",true,true)){if(H.lineNumber>1||I.pos>5){H.tokenize=w;I.skipToEnd();return A}else{H.tokenize=q;return b}}if(e(I)||I.match("?>")){H.tokenize=w;I.skipToEnd();return A}H.tokenize=i;return b}function i(I,H){I.eatWhile(/[^?]/);if(I.eat("?")){if(I.eat(">")){B(H);H.tokenize=H.context==null?w:j}}return b}function q(I,H){H.tokenize=m;if(e(I)&&I.match(/^version( )*=( )*"([a-zA-Z0-9_.:]|\-)+"/)){return b}I.skipToEnd();return A}function m(I,H){H.tokenize=x;if(e(I)&&I.match(/^encoding( )*=( )*"[A-Za-z]([A-Za-z0-9._]|\-)*"/)){return b}return null}function x(I,H){H.tokenize=d;if(e(I)&&I.match(/^standalone( )*=( )*"(yes|no)"/)){return b}return null}function d(I,H){H.tokenize=w;if(I.match("?>")&&I.eol()){B(H);return b}I.skipToEnd();return A}return{electricChars:"/",startState:function(){return{tokenize:w,tokParams:{},lineNumber:0,lineError:false,context:null,indented:0}},token:function(J,I){if(J.sol()){I.lineNumber++;I.lineError=false;I.indented=J.indentation()}if(J.eatSpace()){return null}var H=I.tokenize(J,I);I.lineError=(I.lineError||H=="error");return H},blankLine:function(H){H.lineNumber++;H.lineError=false},indent:function(I,H){if(I.context){if(I.context.noIndent==true){return}if(H.match(/^<\/.*/)){return I.context.indent}return I.context.indent+r}return 0},compareStates:function(K,I){if(K.indented!=I.indented){return false}for(var J=K.context,H=I.context;;J=J.prev,H=H.prev){if(!J||!H){return J==H}if(J.tagName!=H.tagName){return false}}}}});CodeMirror.defineMIME("application/xml","purexml");CodeMirror.defineMIME("text/xml","purexml");CodeMirror.defineMode("pascal",function(c){function j(q){var o={},p=q.split(" ");for(var n=0;n<p.length;++n){o[p[n]]=true}return o}var e=j("and array begin case const div do downto else end file for forward integer boolean char function goto if in label mod nil not of or packed procedure program record repeat set string then to type until var while with");var a=j("case do else for if switch while struct then of");var f={"null":true};var b=/[+\-*&%=<>!?|\/]/;var k;function d(q,o){var n=q.next();if(n=="#"&&o.startOfLine){q.skipToEnd();return"meta"}if(n=='"'||n=="'"){o.tokenize=m(n);return o.tokenize(q,o)}if(n=="("&&q.eat("*")){o.tokenize=h;return h(q,o)}if(/[\[\]{}\(\),;\:\.]/.test(n)){k=n;return null}if(/\d/.test(n)){q.eatWhile(/[\w\.]/);return"number"}if(n=="/"){if(q.eat("/")){q.skipToEnd();return"comment"}}if(b.test(n)){q.eatWhile(b);return"operator"}q.eatWhile(/[\w\$_]/);var p=q.current();if(e.propertyIsEnumerable(p)){if(a.propertyIsEnumerable(p)){k="newstatement"}return"keyword"}if(f.propertyIsEnumerable(p)){return"atom"}return"word"}function m(n){return function(s,q){var r=false,p,o=false;while((p=s.next())!=null){if(p==n&&!r){o=true;break}r=!r&&p=="\\"}if(o||!r){q.tokenize=null}return"string"}}function h(q,p){var n=false,o;while(o=q.next()){if(o==")"&&n){p.tokenize=null;break}n=(o=="*")}return"comment"}function l(r,o,n,q,p){this.indented=r;this.column=o;this.type=n;this.align=q;this.prev=p}function g(p,n,o){return p.context=new l(p.indented,n,o,null,p.context)}function i(o){var n=o.context.type;if(n==")"||n=="]"){o.indented=o.context.indented}return o.context=o.context.prev}return{startState:function(n){return{tokenize:null,context:new l((n||0)-c.indentUnit,0,"top",false),indented:0,startOfLine:true}},token:function(q,p){var n=p.context;if(q.sol()){if(n.align==null){n.align=false}p.indented=q.indentation();p.startOfLine=true}if(q.eatSpace()){return null}k=null;var o=(p.tokenize||d)(q,p);if(o=="comment"||o=="meta"){return o}if(n.align==null){n.align=true}if((k==";"||k==":")&&n.type=="statement"){i(p)}else{if(k=="["){g(p,q.column(),"]")}else{if(k=="("){g(p,q.column(),")")}else{if(k==n.type){i(p)}else{if(n.type=="top"||(n.type=="statement"&&k=="newstatement")){g(p,q.column(),"statement")}}}}}p.startOfLine=false;return o},electricChars:"{}"}});CodeMirror.defineMIME("text/x-pascal","pascal");CodeMirror.defineMode("stex",function(e,h){function j(m,n){m.cmdState.push(n)}function i(m){if(m.cmdState.length>0){return m.cmdState[m.cmdState.length-1]}else{return null}}function l(n){if(n.cmdState.length>0){var m=n.cmdState.pop();m.closeBracket()}}function a(p){var o=p.cmdState;for(var n=o.length-1;n>=0;n--){var m=o[n];if(m.name=="DEFAULT"){continue}return m.styleIdentifier()}return null}function b(o,n,p,m){return function(){this.name=o;this.bracketNo=0;this.style=n;this.styles=m;this.brackets=p;this.styleIdentifier=function(q){if(this.bracketNo<=this.styles.length){return this.styles[this.bracketNo-1]}else{return null}};this.openBracket=function(q){this.bracketNo++;return"bracket"};this.closeBracket=function(q){}}}var c=new Array();c.importmodule=b("importmodule","tag","{[",["string","builtin"]);c.documentclass=b("documentclass","tag","{[",["","atom"]);c.usepackage=b("documentclass","tag","[",["atom"]);c.begin=b("documentclass","tag","[",["atom"]);c.end=b("documentclass","tag","[",["atom"]);c.DEFAULT=function(){this.name="DEFAULT";this.style="tag";this.styleIdentifier=function(m){};this.openBracket=function(m){};this.closeBracket=function(m){}};function d(n,m){n.f=m}function f(q,p){if(q.match(/^\\[a-z]+/)){var n=q.current();n=n.substr(1,n.length-1);var m=c[n];if(typeof(m)=="undefined"){m=c.DEFAULT}m=new m();j(p,m);d(p,g);return m.style}var o=q.next();if(o=="%"){d(p,k);return"comment"}else{if(o=="}"||o=="]"){m=i(p);if(m){m.closeBracket(o);d(p,g)}else{return"error"}return"bracket"}else{if(o=="{"||o=="["){m=c.DEFAULT;m=new m();j(p,m);return"bracket"}else{if(/\d/.test(o)){q.eatWhile(/[\w.%]/);return"atom"}else{q.eatWhile(/[\w-_]/);return a(p)}}}}}function k(n,m){n.skipToEnd();d(m,f);return"comment"}function g(q,p){var o=q.peek();if(o=="{"||o=="["){var m=i(p);var n=m.openBracket(o);q.eat(o);d(p,f);return"bracket"}if(/[ \t\r]/.test(o)){q.eat(o);return null}d(p,f);m=i(p);if(m){l(p)}return f(q,p)}return{startState:function(){return{f:f,cmdState:[]}},copyState:function(m){return{f:m.f,cmdState:m.cmdState.slice(0,m.cmdState.length)}},token:function(p,o){var n=o.f(p,o);var m=p.current();return n}}});CodeMirror.defineMIME("text/x-stex","stex");CodeMirror.defineMode("diff",function(){return{token:function(b){var a=b.next();b.skipToEnd();if(a=="+"){return"plus"}if(a=="-"){return"minus"}if(a=="@"){return"rangeinfo"}}}});CodeMirror.defineMIME("text/x-diff","diff");CodeMirror.defineMode("yaml",function(){var a=["true","false","on","off","yes","no"];var b=new RegExp("\\b(("+a.join(")|(")+"))$","i");return{token:function(f,e){var d=f.peek();var c=e.escaped;e.escaped=false;if(d=="#"){f.skipToEnd();return"comment"}if(e.literal&&f.indentation()>e.keyCol){f.skipToEnd();return"string"}else{if(e.literal){e.literal=false}}if(f.sol()){e.keyCol=0;e.pair=false;e.pairStart=false;if(f.match(/---/)){return"def"}if(f.match(/\.\.\./)){return"def"}if(f.match(/\s*-\s+/)){return"meta"}}if(!e.pair&&f.match(/^\s*([a-z0-9\._-])+(?=\s*:)/i)){e.pair=true;e.keyCol=f.indentation();return"atom"}if(e.pair&&f.match(/^:\s*/)){e.pairStart=true;return"meta"}if(f.match(/^(\{|\}|\[|\])/)){if(d=="{"){e.inlinePairs++}else{if(d=="}"){e.inlinePairs--}else{if(d=="["){e.inlineList++}else{e.inlineList--}}}return"meta"}if(e.inlineList>0&&!c&&d==","){f.next();return"meta"}if(e.inlinePairs>0&&!c&&d==","){e.keyCol=0;e.pair=false;e.pairStart=false;f.next();return"meta"}if(e.pairStart){if(f.match(/^\s*(\||\>)\s*/)){e.literal=true;return"meta"}if(f.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i)){return"variable-2"}if(e.inlinePairs==0&&f.match(/^\s*-?[0-9\.\,]+\s?$/)){return"number"}if(e.inlinePairs>0&&f.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/)){return"number"}if(f.match(b)){return"keyword"}}e.pairStart=false;e.escaped=(d=="\\");f.next();return null},startState:function(){return{pair:false,pairStart:false,keyCol:0,inlinePairs:0,inlineList:0,literal:false,escaped:false}}}});CodeMirror.defineMIME("text/x-yaml","yaml");CodeMirror.defineMode("plsql",function(c,g){var i=c.indentUnit,h=g.keywords,f=g.functions,j=g.types,e=g.sqlplus,k=g.multiLineStrings;var b=/[+\-*&%=<>!?:\/|]/;function a(r,q,p){q.tokenize=p;return p(r,q)}var n;function m(q,p){n=q;return p}function d(r,q){var p=r.next();if(p=='"'||p=="'"){return a(r,q,o(p))}else{if(/[\[\]{}\(\),;\.]/.test(p)){return m(p)}else{if(/\d/.test(p)){r.eatWhile(/[\w\.]/);return m("number","number")}else{if(p=="/"){if(r.eat("*")){return a(r,q,l)}else{r.eatWhile(b);return m("operator","operator")}}else{if(p=="-"){if(r.eat("-")){r.skipToEnd();return m("comment","comment")}else{r.eatWhile(b);return m("operator","operator")}}else{if(p=="@"||p=="$"){r.eatWhile(/[\w\d\$_]/);return m("word","variable")}else{if(b.test(p)){r.eatWhile(b);return m("operator","operator")}else{r.eatWhile(/[\w\$_]/);if(h&&h.propertyIsEnumerable(r.current().toLowerCase())){return m("keyword","keyword")}if(f&&f.propertyIsEnumerable(r.current().toLowerCase())){return m("keyword","builtin")}if(j&&j.propertyIsEnumerable(r.current().toLowerCase())){return m("keyword","variable-2")}if(e&&e.propertyIsEnumerable(r.current().toLowerCase())){return m("keyword","variable-3")}return m("word","plsql-word")}}}}}}}}function o(p){return function(u,s){var t=false,r,q=false;while((r=u.next())!=null){if(r==p&&!t){q=true;break}t=!t&&r=="\\"}if(q||!(t||k)){s.tokenize=d}return m("string","plsql-string")}}function l(s,r){var p=false,q;while(q=s.next()){if(q=="/"&&p){r.tokenize=d;break}p=(q=="*")}return m("comment","plsql-comment")}return{startState:function(p){return{tokenize:d,startOfLine:true}},token:function(r,q){if(r.eatSpace()){return null}var p=q.tokenize(r,q);return p}}});(function(){function d(j){var g={},h=j.split(" ");for(var f=0;f<h.length;++f){g[h[f]]=true}return g}var c="abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work";var b="abs acos add_months ascii asin atan atan2 average bfilename ceil chartorowid chr concat convert cos cosh count decode deref dual dump dup_val_on_index empty error exp false floor found glb greatest hextoraw initcap instr instrb isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mod months_between new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null nvl others power rawtohex reftohex round rowcount rowidtochar rpad rtrim sign sin sinh soundex sqlcode sqlerrm sqrt stddev substr substrb sum sysdate tan tanh to_char to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid upper user userenv variance vsize";var a="bfile blob character clob dec float int integer mlslabel natural naturaln nchar nclob number numeric nvarchar2 real rowtype signtype smallint string varchar varchar2";var e="appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap";CodeMirror.defineMIME("text/x-plsql",{name:"plsql",keywords:d(c),functions:d(b),types:d(a),sqlplus:d(e)})}());CodeMirror.defineMode("clike",function(c,e){var g=c.indentUnit,f=e.keywords||{},a=e.blockKeywords||{},h=e.atoms||{},p=e.hooks||{},i=e.multiLineStrings;var b=/[+\-*&%=<>!?|\/]/;var m;function d(u,s){var r=u.next();if(p[r]){var q=p[r](u,s);if(q!==false){return q}}if(r=='"'||r=="'"){s.tokenize=o(r);return s.tokenize(u,s)}if(/[\[\]{}\(\),;\:\.]/.test(r)){m=r;return null}if(/\d/.test(r)){u.eatWhile(/[\w\.]/);return"number"}if(r=="/"){if(u.eat("*")){s.tokenize=k;return k(u,s)}if(u.eat("/")){u.skipToEnd();return"comment"}}if(b.test(r)){u.eatWhile(b);return"operator"}u.eatWhile(/[\w\$_]/);var t=u.current();if(f.propertyIsEnumerable(t)){if(a.propertyIsEnumerable(t)){m="newstatement"}return"keyword"}if(h.propertyIsEnumerable(t)){return"atom"}return"word"}function o(q){return function(v,t){var u=false,s,r=false;while((s=v.next())!=null){if(s==q&&!u){r=true;break}u=!u&&s=="\\"}if(r||!(u||i)){t.tokenize=d}return"string"}}function k(t,s){var q=false,r;while(r=t.next()){if(r=="/"&&q){s.tokenize=d;break}q=(r=="*")}return"comment"}function n(u,r,q,t,s){this.indented=u;this.column=r;this.type=q;this.align=t;this.prev=s}function j(s,q,r){return s.context=new n(s.indented,q,r,null,s.context)}function l(r){var q=r.context.type;if(q==")"||q=="]"||q=="}"){r.indented=r.context.indented}return r.context=r.context.prev}return{startState:function(q){return{tokenize:null,context:new n((q||0)-g,0,"top",false),indented:0,startOfLine:true}},token:function(t,s){var q=s.context;if(t.sol()){if(q.align==null){q.align=false}s.indented=t.indentation();s.startOfLine=true}if(t.eatSpace()){return null}m=null;var r=(s.tokenize||d)(t,s);if(r=="comment"||r=="meta"){return r}if(q.align==null){q.align=true}if((m==";"||m==":")&&q.type=="statement"){l(s)}else{if(m=="{"){j(s,t.column(),"}")}else{if(m=="["){j(s,t.column(),"]")}else{if(m=="("){j(s,t.column(),")")}else{if(m=="}"){while(q.type=="statement"){q=l(s)}if(q.type=="}"){q=l(s)}while(q.type=="statement"){q=l(s)}}else{if(m==q.type){l(s)}else{if(q.type=="}"||q.type=="top"||(q.type=="statement"&&m=="newstatement")){j(s,t.column(),"statement")}}}}}}}s.startOfLine=false;return r},indent:function(u,r){if(u.tokenize!=d&&u.tokenize!=null){return 0}var t=r&&r.charAt(0),q=u.context,s=t==q.type;if(q.type=="statement"){return q.indented+(t=="{"?0:g)}else{if(q.align){return q.column+(s?0:1)}else{return q.indented+(s?0:g)}}},electricChars:"{}"}});(function(){function c(h){var f={},g=h.split(" ");for(var e=0;e<g.length;++e){f[g[e]]=true}return f}var a="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";function d(f,e){if(!e.startOfLine){return false}f.skipToEnd();return"meta"}function b(g,f){var e;while((e=g.next())!=null){if(e=='"'&&!g.eat('"')){f.tokenize=null;break}}return"string"}CodeMirror.defineMIME("text/x-csrc",{name:"clike",keywords:c(a),blockKeywords:c("case do else for if switch while struct"),atoms:c("null"),hooks:{"#":d}});CodeMirror.defineMIME("text/x-c++src",{name:"clike",keywords:c(a+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t"),blockKeywords:c("catch class do else finally for if struct switch try while"),atoms:c("true false null"),hooks:{"#":d}});CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:c("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:c("catch class do else finally for if switch try while"),atoms:c("true false null"),hooks:{"@":function(f,e){f.eatWhile(/[\w\$_]/);return"meta"}}});CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:c("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:c("catch class do else finally for foreach if struct switch try while"),atoms:c("true false null"),hooks:{"@":function(f,e){if(f.eat('"')){e.tokenize=b;return b(f,e)}f.eatWhile(/[\w\$_]/);return"meta"}}});CodeMirror.defineMIME("text/x-groovy",{name:"clike",keywords:c("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package property private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),atoms:c("true false null"),hooks:{"@":function(f,e){f.eatWhile(/[\w\$_]/);return"meta"}}})}());CodeMirror.defineMode("xml",function(w,k){var p=w.indentUnit;var v=k.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true,"!cdata":true},allowUnquoted:true}:{autoSelfClosers:{},doNotIndent:{"!cdata":true},allowUnquoted:false};var a=k.alignCDATA;var f,g;function o(A,z){function x(C){z.tokenize=C;return C(A,z)}var y=A.next();if(y=="<"){if(A.eat("!")){if(A.eat("[")){if(A.match("CDATA[")){return x(u("atom","]]>"))}else{return null}}else{if(A.match("--")){return x(u("comment","-->"))}else{if(A.match("DOCTYPE",true,true)){A.eatWhile(/[\w\._\-]/);return x(u("meta",">"))}else{return null}}}}else{if(A.eat("?")){A.eatWhile(/[\w\._\-]/);z.tokenize=u("meta","?>");return"meta"}else{g=A.eat("/")?"closeTag":"openTag";A.eatSpace();f="";var B;while((B=A.eat(/[^\s\u00a0=<>\"\'\/?]/))){f+=B}z.tokenize=n;return"tag"}}}else{if(y=="&"){A.eatWhile(/[^;]/);A.eat(";");return"atom"}else{A.eatWhile(/[^&<]/);return null}}}function n(z,y){var x=z.next();if(x==">"||(x=="/"&&z.eat(">"))){y.tokenize=o;g=x==">"?"endTag":"selfcloseTag";return"tag"}else{if(x=="="){g="equals";return null}else{if(/[\'\"]/.test(x)){y.tokenize=j(x);return y.tokenize(z,y)}else{z.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}}}function j(x){return function(z,y){while(!z.eol()){if(z.next()==x){y.tokenize=n;break}}return"string"}}function u(y,x){return function(A,z){while(!A.eol()){if(A.match(x)){z.tokenize=o;break}A.next()}return y}}var l,h;function b(){for(var x=arguments.length-1;x>=0;x--){l.cc.push(arguments[x])}}function e(){b.apply(null,arguments);return true}function i(x,z){var y=v.doNotIndent.hasOwnProperty(x)||(l.context&&l.context.noIndent);l.context={prev:l.context,tagName:x,indent:l.indented,startOfLine:z,noIndent:y}}function s(){if(l.context){l.context=l.context.prev}}function d(x){if(x=="openTag"){l.tagName=f;return e(m,c(l.startOfLine))}else{if(x=="closeTag"){var y=false;if(l.context){y=l.context.tagName!=f}else{y=true}if(y){h="error"}return e(q(y))}else{if(x=="string"){if(!l.context||l.context.name!="!cdata"){i("!cdata")}if(l.tokenize==o){s()}return e()}else{return e()}}}}function c(x){return function(y){if(y=="selfcloseTag"||(y=="endTag"&&v.autoSelfClosers.hasOwnProperty(l.tagName.toLowerCase()))){return e()}if(y=="endTag"){i(l.tagName,x);return e()}return e()}}function q(x){return function(y){if(x){h="error"}if(y=="endTag"){s();return e()}h="error";return e(arguments.callee)}}function m(x){if(x=="word"){h="attribute";return e(m)}if(x=="equals"){return e(t,m)}return b()}function t(x){if(x=="word"&&v.allowUnquoted){h="string";return e()}if(x=="string"){return e(r)}return b()}function r(x){if(x=="string"){return e(r)}else{return b()}}return{startState:function(){return{tokenize:o,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(A,z){if(A.sol()){z.startOfLine=true;z.indented=A.indentation()}if(A.eatSpace()){return null}h=g=f=null;var y=z.tokenize(A,z);if((y||g)&&y!="comment"){l=z;while(true){var x=z.cc.pop()||d;if(x(g||y)){break}}}z.startOfLine=false;return h||y},indent:function(z,x){var y=z.context;if(y&&y.noIndent){return 0}if(a&&/<!\[CDATA\[/.test(x)){return 0}if(y&&/^<\//.test(x)){y=y.prev}while(y&&!y.startOfLine){y=y.prev}if(y){return y.indent+p}else{return 0}},compareStates:function(A,y){if(A.indented!=y.indented){return false}for(var z=A.context,x=y.context;;z=z.prev,x=x.prev){if(!z||!x){return z==x}if(z.tagName!=x.tagName){return false}}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});