[tox]
envlist =
  swagger
  py35

[testenv]
deps =
  pytest
  pytest-cov
  flake8

commands =
# check that python package has properly filled metadata
  python setup.py check --strict
# check that pep8 and other checks are passed
  flake8 xsnippet_api/ tests/
# check that unittests are passed
  py.test --cov xsnippet_api/ --cov-append tests/

[testenv:swagger]
skip_install = True

deps =
  flex

commands =
# check the swagger definition of the API
  swagger-flex -s contrib/swagger.yaml
